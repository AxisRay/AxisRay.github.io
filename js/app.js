var customSearch;!function(c){"use strict";const i=70;function l(e,t){t=t||i;const a=e.href?c(e.getAttribute("href")):c(e);c("html, body").animate({scrollTop:a.offset().top-t},400)}c(function(){var t,e,a,o;!function(){if(window.subData){const o=c("header .wrapper"),e=c(".s-comment",o),t=c(".s-toc",o),n=c(".s-top",o);o.find(".nav-sub .logo").text(window.subData.title);let a=document.body.scrollTop;c(document,window).scroll(()=>{var e=c(window).scrollTop(),t=e-a;20<=t?(a=e,o.addClass("sub")):t<=-20&&(a=e,o.removeClass("sub"))});const s=c("#comments");s.length?e.click(e=>{e.preventDefault(),e.stopPropagation(),l(s)}):e.remove();const i=c(".toc-wrapper");i.length&&i.children().length?t.click(e=>{e.stopPropagation(),i.toggleClass("active")}):t.remove(),n.click(()=>l(document.body))}}(),function(){var a=c("header .menu"),o=a.find(".underline");function t(e,t){e=e||a.find("li a.active"),(t=void 0===t||!!t)||o.addClass("disable-trans"),e&&e.length?(e.addClass("active").siblings().removeClass("active"),o.css({left:e.position().left,width:e.innerWidth()})):o.css({left:0,width:0}),t||setTimeout(function(){o.removeClass("disable-trans")},0)}a.on("mouseenter","li",function(e){t(c(e.currentTarget))}),a.on("mouseout",function(){t()});var e,n=null;"/"===location.pathname||"/index.html"===location.pathname||location.pathname.startsWith("/page/")?n=c(".nav-home",a):1<(e=location.pathname.match(/\/(.*?)\//)).length&&(n=c(".nav-"+e[1],a)),t(n,!1)}(),(t=c(".l_header .switcher .s-menu")).click(function(e){e.stopPropagation(),c("body").toggleClass("z_menu-open"),t.toggleClass("active")}),c(document).click(function(e){c("body").removeClass("z_menu-open"),t.removeClass("active")}),e=c(".l_header .switcher .s-search"),a=c(".l_header"),o=c(".l_header .m_search"),0!==e.length&&(e.click(function(e){e.stopPropagation(),a.toggleClass("z_search-open"),o.find("input").focus()}),c(document).click(function(e){a.removeClass("z_search-open")}),o.click(function(e){e.stopPropagation()})),Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init(),function(){if(0!==c(".reveal").length){const e=ScrollReveal({distance:0,reset:!0});e.reveal(".reveal")}}(),function(){const t=c(".toc-wrapper");if(0!==t.length){t.click(e=>{e.stopPropagation(),t.addClass("active")}),c(document).click(()=>t.removeClass("active")),t.on("click","a",e=>{e.preventDefault(),e.stopPropagation(),l("a"===e.target.tagName.toLowerCase?e.target:e.target.parentElement)});const s=Array.from(t.find("li a")),e=()=>s.map(e=>Math.floor(c(e.getAttribute("href")).offset().top-i));let n=e();const a=()=>{var o=c("html").scrollTop()||c("body").scrollTop();if(n){let e=0,t=n.length-1,a;for(;e<t;)a=e+t+1>>1,n[a]===o?e=t=a:n[a]<o?e=a:t=a-1;c(s).removeClass("active").eq(e).addClass("active")}};c(window).resize(()=>{n=e(),a()}).scroll(()=>{a()}),a()}}(),c(".article .video-container").fitVids(),setTimeout(function(){c("#loading-bar-wrapper").fadeOut(500)},300),"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/images/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/images/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/images/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/images/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/images/"}))})}(jQuery);
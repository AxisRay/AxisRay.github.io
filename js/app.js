var customSearch;!function(c){"use strict";const i=70;function l(e,a){a=a||i;const t=e.href?c(e.getAttribute("href")):c(e);c("html, body").animate({scrollTop:t.offset().top-a},400)}c(function(){var a,e,t,o;!function(){if(window.subData){const o=c("header .wrapper"),e=c(".s-comment",o),a=c(".s-toc",o),n=c(".s-top",o);o.find(".nav-sub .logo").text(window.subData.title);let t=document.body.scrollTop;c(document,window).scroll(()=>{var e=c(window).scrollTop(),a=e-t;20<=a?(t=e,o.addClass("sub")):a<=-20&&(t=e,o.removeClass("sub"))});const s=c("#comments");s.length?e.click(e=>{e.preventDefault(),e.stopPropagation(),l(s)}):e.remove();const i=c(".toc-wrapper");i.length&&i.children().length?a.click(e=>{e.stopPropagation(),i.toggleClass("active")}):a.remove(),n.click(()=>l(document.body))}}(),function(){var t=c("header .menu"),o=t.find(".underline");function a(e,a){e=e||t.find("li a.active"),(a=void 0===a||!!a)||o.addClass("disable-trans"),e&&e.length?(e.addClass("active").siblings().removeClass("active"),o.css({left:e.position().left,width:e.innerWidth()})):o.css({left:0,width:0}),a||setTimeout(function(){o.removeClass("disable-trans")},0)}t.on("mouseenter","li",function(e){a(c(e.currentTarget))}),t.on("mouseout",function(){a()});var e,n=null;"/"===location.pathname||location.pathname.startsWith("/page/")?n=c(".nav-home",t):1<(e=location.pathname.match(/\/(.*?)\//)).length&&(n=c(".nav-"+e[1],t)),a(n,!1)}(),(a=c(".l_header .switcher .s-menu")).click(function(e){e.stopPropagation(),c("body").toggleClass("z_menu-open"),a.toggleClass("active")}),c(document).click(function(e){c("body").removeClass("z_menu-open"),a.removeClass("active")}),e=c(".l_header .switcher .s-search"),t=c(".l_header"),o=c(".l_header .m_search"),0!==e.length&&(e.click(function(e){e.stopPropagation(),t.toggleClass("z_search-open"),o.find("input").focus()}),c(document).click(function(e){t.removeClass("z_search-open")}),o.click(function(e){e.stopPropagation()})),Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init(),function(){if(0!==c(".reveal").length){const e=ScrollReveal({distance:0});e.reveal(".reveal")}}(),function(){const a=c(".toc-wrapper");if(0!==a.length){a.click(e=>{e.stopPropagation(),a.addClass("active")}),c(document).click(()=>a.removeClass("active")),a.on("click","a",e=>{e.preventDefault(),e.stopPropagation(),l("a"===e.target.tagName.toLowerCase?e.target:e.target.parentElement)});const s=Array.from(a.find("li a")),e=()=>s.map(e=>Math.floor(c(e.getAttribute("href")).offset().top-i));let n=e();const t=()=>{var o=c("html").scrollTop()||c("body").scrollTop();if(n){let e=0,a=n.length-1,t;for(;e<a;)t=e+a+1>>1,n[t]===o?e=a=t:n[t]<o?e=t:a=t-1;c(s).removeClass("active").eq(e).addClass("active")}};c(window).resize(()=>{n=e(),t()}).scroll(()=>{t()}),t()}}(),c(".article .video-container").fitVids(),setTimeout(function(){c("#loading-bar-wrapper").fadeOut(500)},300),"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/images/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/images/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/images/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/images/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/images/"}))})}(jQuery);
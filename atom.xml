<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ray of Hope</title>
  
  
  <link href="http://blog.raycn.pub/atom.xml" rel="self"/>
  
  <link href="http://blog.raycn.pub/"/>
  <updated>2021-08-21T01:07:45.000Z</updated>
  <id>http://blog.raycn.pub/</id>
  
  <author>
    <name>Ray Lee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€PM3ã€‘é‡ç½®å°ç±³ç©ºæ°”å‡€åŒ–å™¨æ»¤èŠ¯</title>
    <link href="http://blog.raycn.pub/2021/08/21/reset-xiaomi-air-purifier-filters/"/>
    <id>http://blog.raycn.pub/2021/08/21/reset-xiaomi-air-purifier-filters/</id>
    <published>2021-08-21T01:07:45.000Z</published>
    <updated>2021-08-21T01:07:45.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å®¶é‡Œå°ç±³ç©ºæ°”å‡€åŒ–å™¨çš„æ»¤èŠ¯åˆåˆ°æœŸäº†ï¼Œç„¶è€Œæ·±åœ³è¿™è¾¹ç©ºæ°”è´¨é‡å¹³æ—¶å°±ä¸é”™ï¼Œåº”è¯¥è¿˜å¯ä»¥ç”¨å¾ˆä¹…ã€‚ä½†æ˜¯æ¼äººçš„è¿‡æœŸæç¤ºä»¤æˆ‘éå¸¸ä¸çˆ½ï¼Œå¾—æƒ³åŠæ³•å¹²æ‰è¿™ä¸ªæç¤ºã€‚</p><p>æ ¹æ®ç½‘ä¸Šçš„èµ„æ–™ï¼Œå°ç±³ç©ºæ°”å‡€åŒ–å™¨2Sæ˜¯ä¾èµ–æ»¤èŠ¯åº•éƒ¨çš„RFIDæ ‡ç­¾è®¡ç®—æ»¤èŠ¯å¯¿å‘½çš„ï¼Œæ­£å¥½æ‰‹å¤´æœ‰ä¸€å—RFIDçš„åˆ©å™¨-Proxmark3ã€‚å°è¯•ä¸‹èƒ½å¦è¯»å–å’Œä¿®æ”¹RFIDæ ‡ç­¾ä¸­çš„æ•°æ®ï¼Œæ¥å®ç°æ»¤èŠ¯å¯¿å‘½çš„é‡ç½®ã€‚<br><img src="/img/2021-08-21-12-50-41.png" alt="æ»¤èŠ¯åº•éƒ¨çš„æ ‡ç­¾"></p><h1 id="è¯†åˆ«æ ‡ç­¾ç±»å‹"><a href="#è¯†åˆ«æ ‡ç­¾ç±»å‹" class="headerlink" title="è¯†åˆ«æ ‡ç­¾ç±»å‹"></a>è¯†åˆ«æ ‡ç­¾ç±»å‹</h1><span id="more"></span><p>å°è¯•ä½¿ç”¨<code>hf search</code>çœ‹ä¸‹æ˜¯ä»€ä¹ˆç±»å‹çš„æ ‡ç­¾ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[fpc] pm3 --&gt; hf search</span><br><span class="line"> ğŸ••  Searching for ISO14443-A tag...</span><br><span class="line">[+]  UID: 53 5C 4D EE 02 1F 00</span><br><span class="line">[+] ATQA: 00 44</span><br><span class="line">[+]  SAK: 00 [2]</span><br><span class="line">[+] MANUFACTURER: Shanghai Feiju Microelectronics Co. Ltd. China</span><br><span class="line">[+] TYPE: NTAG 213 144bytes (NT2H1311G0DU)</span><br><span class="line">[+]    MIFARE Ultralight/C/NTAG Compatible</span><br><span class="line">[=] proprietary non iso14443-4 card found, RATS not supported</span><br><span class="line">[?] Hint: try `hf mfu info`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[+] Valid ISO 14443-A tag found</span><br></pre></td></tr></table></figure><p>å¦‚ç»“æœæ‰€ç¤ºï¼Œè¿™æ˜¯ä¸ªNTAGæ ‡ç­¾ï¼Œç„¶åæŒ‰æç¤ºæ‰§è¡Œ<code>hf mfu info</code>çœ‹ä¸‹è¿›ä¸€æ­¥çš„ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">[fpc] pm3 --&gt; hf mfu info</span><br><span class="line"></span><br><span class="line">[=] --- Tag Information --------------------------</span><br><span class="line">[=] -------------------------------------------------------------</span><br><span class="line">[+]       TYPE: NTAG 213 144bytes (NT2H1311G0DU)</span><br><span class="line">[+]        UID: 53 5C 4D EE 02 1F 00</span><br><span class="line">[+]     UID[0]: 53, Shanghai Feiju Microelectronics Co. Ltd. China</span><br><span class="line">[+]       BCC0: CA (ok)</span><br><span class="line">[+]       BCC1: F3 (ok)</span><br><span class="line">[+]   Internal: 48 (default)</span><br><span class="line">[+]       Lock: 00 00  - 00</span><br><span class="line">[+] OneTimePad: E1 10 12 00  - @B0</span><br><span class="line"></span><br><span class="line">[=] --- NDEF Message</span><br><span class="line">[+] Capability Container: E1 10 12 00</span><br><span class="line">[+]   E1: NDEF Magic Number</span><br><span class="line">[+]   10: version 0.1 supported by tag</span><br><span class="line">[+]        : Read access granted without any security / Write access granted without any security</span><br><span class="line">[+]   12: Physical Memory Size: 144 bytes</span><br><span class="line">[+]   12: NDEF Memory Size: 144 bytes</span><br><span class="line">[+]   Additional feature information</span><br><span class="line">[+]   00</span><br><span class="line">[+]   00000000</span><br><span class="line">[+]   xxx      - 00: RFU (ok)</span><br><span class="line">[+]      x     - 00: don&#x27;t support special frame</span><br><span class="line">[+]       x    - 00: don&#x27;t support lock block</span><br><span class="line">[+]        xx  - 00: RFU (ok)</span><br><span class="line">[+]          x - 00: IC don&#x27;t support multiple block reads</span><br><span class="line"></span><br><span class="line">[=] --- Tag Counter</span><br><span class="line">[=]        [02]: 00 00 00</span><br><span class="line">[+]             - 00 tearing ( fail )</span><br><span class="line"></span><br><span class="line">[=] --- Tag Signature</span><br><span class="line">[=]     Elliptic curve parameters: NID_secp128r1</span><br><span class="line">[=]              TAG IC Signature: 0000000000000000000000000000000000000000000000000000000000000000</span><br><span class="line">[+]        Signature verification ( fail )</span><br><span class="line"></span><br><span class="line">[=] --- Tag Version</span><br><span class="line">[=]        Raw bytes: 00 53 04 02 01 00 0F 03</span><br><span class="line">[=]        Vendor ID: 53, Shanghai Feiju Microelectronics Co. Ltd. China</span><br><span class="line">[=]     Product type: 04, NTAG</span><br><span class="line">[=]  Product subtype: 02, 50pF</span><br><span class="line">[=]    Major version: 01</span><br><span class="line">[=]    Minor version: 00</span><br><span class="line">[=]             Size: 0F, (256 &lt;-&gt; 128 bytes)</span><br><span class="line">[=]    Protocol type: 03, ISO14443-3 Compliant</span><br><span class="line">[?] Hint: try `hf mfu pwdgen -r` to get see known pwd gen algo suggestions</span><br><span class="line">[=] ------------------------ Fingerprint -----------------------</span><br><span class="line">[=] Reading tag memory...</span><br><span class="line">[#] Cmd Error: 00</span><br><span class="line">[#] Read block 4 error</span><br><span class="line">[=] ------------------------------------------------------------</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¸æ˜¯NXPå®˜æ–¹äº§çš„NTAGï¼Œåº”è¯¥æ˜¯å›½å†…ä¸€å®¶å«åšä¸Šæµ·é£èšç”Ÿäº§çš„NTAGå…¼å®¹æ ‡ç­¾ã€‚</p><p>ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ ‡ç­¾æ˜¯æœ‰å¯†ç çš„ï¼Œæç¤ºæ‰§è¡Œ<code>hf mfu pwdgen -r</code>è®¡ç®—å¯†ç ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸ç”¨è¿™ä¹ˆéº»çƒ¦ï¼Œæ—¢ç„¶æœ‰PM3è¿™ç§ç¥å™¨ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡sniffå—…æ¢å‡ºNTAGå¯†ç ã€‚å¦å¤–å®é™…ä¸Šæˆ‘ä¹Ÿæµ‹è¯•è¿‡äº†ï¼Œè®¡ç®—å‡ºæ¥çš„å¯†ç éƒ½ä¸å¯¹çš„ã€‚</p><h1 id="å—…æ¢æ ‡ç­¾å¯†ç "><a href="#å—…æ¢æ ‡ç­¾å¯†ç " class="headerlink" title="å—…æ¢æ ‡ç­¾å¯†ç "></a>å—…æ¢æ ‡ç­¾å¯†ç </h1><p>okï¼Œè¯ä¸å¤šè¯´ï¼Œæ‰§è¡Œ<code>hf 14a sniff</code>è¿›å…¥å—…æ¢æ¨¡å¼ã€‚ä¸è¿‡ç”±äºæ ‡ç­¾åœ¨æ»¤èŠ¯åº•éƒ¨ï¼Œæ²¡æœ‰ç©ºé—´æŠŠPM3å¡è¿›å»ï¼Œç›´æ¥æ”¾åœ¨æ»¤èŠ¯çš„æ¡¶é‡Œå°±å¥½äº†ï¼Œè¿™ä¸ªè·ç¦»ä¹Ÿæ˜¯å¤Ÿçš„ã€‚ç„¶åæŠŠæ»¤èŠ¯æ”¾å›å‡€åŒ–å™¨å¹¶å¯åŠ¨ã€‚ä¸ºäº†ä¿è¯æ•ˆæœï¼Œå¯ä»¥å¤šè¯•å‡ æ¬¡ã€‚<br><img src="/img/2021-08-21-12-52-34.png" alt="æ”¾åœ¨æ»¤èŠ¯æ¡¶åº•éƒ¨"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[fpc] pm3 --&gt; hf 14a sniff</span><br><span class="line"></span><br><span class="line">[#] Starting to sniff. Press PM3 Button to stop.</span><br><span class="line">[#] trace len = 606</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å·²ç»å—…æ¢åˆ°æ•°æ®äº†ï¼Œæ‰§è¡Œ<code>trace list -t 14a</code>çœ‹ä¸‹å—…æ¢çš„ç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[fpc] pm3 --&gt; hf 14a sniff</span><br><span class="line"></span><br><span class="line">[#] Starting to sniff. Press PM3 Button to stop.</span><br><span class="line">[#] trace len = 606</span><br><span class="line">[fpc] pm3 --&gt; trace list -t 14a</span><br><span class="line">[=] downloading tracelog data from device</span><br><span class="line">[+] Recorded activity (trace len = 606 bytes)</span><br><span class="line">[=] start = start of start frame end = end of frame. src = source of transfer</span><br><span class="line">[=] ISO14443A - all times are in carrier periods (1/13.56MHz)</span><br><span class="line"></span><br><span class="line">      Start |        End | Src | Data (! denotes parity error)                                           | CRC | Annotation</span><br><span class="line">------------+------------+-----+-------------------------------------------------------------------------+-----+--------------------</span><br><span class="line">          0 |       1056 | Rdr |26(7)                                                                    |     | REQA</span><br><span class="line">     419248 |     421712 | Rdr |93  20                                                                   |     | ANTICOLL</span><br><span class="line">     838544 |     849072 | Rdr |93  70  88  53  5c  4d  ca  3a  40                                       |  ok | SELECT_UID</span><br><span class="line">    1284848 |    1287312 | Rdr |95  20                                                                   |     | ANTICOLL-2</span><br><span class="line">    1704144 |    1714672 | Rdr |95  70  ee  02  1f  00  f3  3f  f8                                       |  ok | SELECT_UID-2</span><br><span class="line">    2109856 |    2118080 | Rdr |1b  bc  77  b6  ed  da  5b                                               |  ok | PWD-AUTH KEY: 0xbc77b6ed</span><br><span class="line">    2515568 |    2520272 | Rdr |30  04  26  ee                                                           |  ok | READBLOCK(4)</span><br><span class="line">    2521520 |    2538512 | Rdr |ff! ff! b7! b4! ff! ff! ce! cc! ff! de! fc! fa! ff! f9! 2b!              | !crc|</span><br><span class="line">    2934816 |    2939520 | Rdr |30  05  af  ff                                                           |  ok | READBLOCK(5)</span><br><span class="line">    3354032 |    3358800 | Rdr |30  06  34  cd                                                           |  ok | READBLOCK(6)</span><br><span class="line">.... çœç•¥éƒ¨åˆ†</span><br><span class="line">    3773328 |    3778096 | Rdr |30  07  bd  dc                                                           |  ok | READBLOCK(7)</span><br><span class="line">    4192560 |    4197264 | Rdr |30  08  4a  24                                                           |  ok | READBLOCK(8)</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œå—…æ¢å®Œæˆå¿…é¡»è¦é€šè¿‡æŒ‰é’®ç»ˆæ­¢å—…æ¢ï¼Œå¦åˆ™PM3ä¼šå¡æ­»ã€‚<br>ç»™å¼€å‘è€…æè¿‡è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ç­”å¤è¯´æ˜¯è®¾è®¡å¦‚æ­¤ï¼Œæ˜¯ä¸ªFeatureã€‚</p></blockquote><p>å•Šå“ˆå“ˆï¼Œå·²ç»å¯ä»¥çœ‹åˆ°å¯†ç äº†ï¼Œå³<code>0xbc77b6ed</code>ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ³¨æ„åˆ°ï¼Œå—ï¼ˆBLOCKï¼‰4ã€5ã€6ã€7ã€8è¢«è¯»å–è¿‡ã€‚</p><h1 id="DUMPæ ‡ç­¾"><a href="#DUMPæ ‡ç­¾" class="headerlink" title="DUMPæ ‡ç­¾"></a>DUMPæ ‡ç­¾</h1><p>ä¸‹ä¸€æ­¥å…ˆæŠŠè¿™å‡ ä¸ªBLOCKæˆ–è€…å°†æ•´ä¸ªæ ‡ç­¾çš„æ•°æ®dumpä¸‹æ¥ã€‚è¿™é‡Œæˆ‘ä»¬ç›´æ¥ç”¨åˆšæ‰çš„å¯†ç ï¼Œæ‰§è¡Œ<code>hf mfu dump -k bc77b6ed</code>æŠŠæ•´ä¸ªæ ‡ç­¾dumpä¸‹æ¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[fpc] pm3 --&gt; hf mfu dump -k bc77b6ed</span><br><span class="line">[+] TYPE: NTAG 213 144bytes (NT2H1311G0DU)</span><br><span class="line">[+] Reading tag memory...</span><br><span class="line">[=] MFU dump file information</span><br><span class="line">[=] -------------------------------------------------------------</span><br><span class="line">[=]       Version | 00 53 04 02 01 00 0F 03</span><br><span class="line">[=]         TBD 0 | 00 00</span><br><span class="line">[=]         TBD 1 | 00</span><br><span class="line">[=]     Signature | 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</span><br><span class="line">[=]     Counter 0 | 00 00 00</span><br><span class="line">[=]     Tearing 0 | 00</span><br><span class="line">[=]     Counter 1 | 00 00 00</span><br><span class="line">[=]     Tearing 1 | 00</span><br><span class="line">[=]     Counter 2 | 00 00 00</span><br><span class="line">[=]     Tearing 2 | 00</span><br><span class="line">[=] Max data page | 43 (176 bytes)</span><br><span class="line">[=]   Header size | 56</span><br><span class="line">[=] -------------------------------------------------------------</span><br><span class="line">[=] block#   | data        |lck| ascii</span><br><span class="line">[=] ---------+-------------+---+------</span><br><span class="line">[=]   0/0x00 | 53 5C 4D CA |   | S\M.</span><br><span class="line">[=]   1/0x01 | EE 02 1F 00 |   | ....</span><br><span class="line">[=]   2/0x02 | F3 48 00 00 |   | .H..</span><br><span class="line">[=]   3/0x03 | E1 10 12 00 | 0 | ....</span><br><span class="line">[=]   4/0x04 | 00 00 48 4B | 0 | ..HK</span><br><span class="line">[=]   5/0x05 | 00 00 31 33 | 0 | ..13</span><br><span class="line">[=]   6/0x06 | 00 21 03 05 | 0 | .!..</span><br><span class="line">[=]   7/0x07 | 00 06 14 77 | 0 | ...w</span><br><span class="line">[=]   8/0x08 | D6 DD 09 00 | 0 | ....</span><br><span class="line">.... çœç•¥æ²¡æ•°æ®çš„éƒ¨åˆ†</span><br><span class="line">[=]  40/0x28 | 00 00 00 BD | 0 | ....</span><br><span class="line">[=]  41/0x29 | 04 00 00 04 | 0 | ....</span><br><span class="line">[=]  42/0x2A | C0 05 00 00 | 0 | ....</span><br><span class="line">[=]  43/0x2B | 00 00 00 00 | 0 | ....</span><br><span class="line">[=]  44/0x2C | 00 00 00 00 | 0 | ....</span><br><span class="line">[=] ---------------------------------</span><br><span class="line">[=] Using UID as filename</span><br><span class="line">[+] saved 236 bytes to binary file hf-mfu-535C4DEE021F00-dump.bin</span><br><span class="line">[+] saved to json file hf-mfu-535C4DEE021F00-dump.json</span><br></pre></td></tr></table></figure><p>dumpæˆåŠŸï¼Œä¸‹ä¸€æ­¥å°±ç®€å•äº†ï¼Œ æœ‰å‡ ç§æ–¹å¼ï¼š</p><ol><li>æŠŠæ»¤èŠ¯æ”¾å›å»ç»§ç»­ä½¿ç”¨ã€‚ç„¶åç”¨åˆ°æœŸåå†å°†è¿™å‡ ä¸ªBLOCKåˆ·å›å»ï¼Œå³å¯æŠŠæ»¤èŠ¯æ¢å¤åˆ°ä¿å­˜çš„æ—¶å€™çš„çŠ¶æ€ã€‚</li><li>å°†æ»¤èŠ¯å›å»ä½¿ç”¨ä¸€æ®µæ—¶é—´åï¼Œå†dumpä¸€æ¬¡ï¼Œè§‚å¯Ÿå“ªäº›BLOCKå‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ†æè§„å¾‹æˆ–è€…æ‰¾ä¸ªæ–°æ»¤èŠ¯å¯¹æ¯”ä¸‹ã€‚çŸ¥é“ç®—æ³•ä¹‹åå°±å¯ä»¥ç›´æ¥å°†æ»¤èŠ¯å¯¿å‘½ä¿®æ”¹ä¸ºæŒ‡å®šçš„å€¼äº†</li></ol><h1 id="é‡ç½®æ»¤èŠ¯å¯¿å‘½"><a href="#é‡ç½®æ»¤èŠ¯å¯¿å‘½" class="headerlink" title="é‡ç½®æ»¤èŠ¯å¯¿å‘½"></a>é‡ç½®æ»¤èŠ¯å¯¿å‘½</h1><p>å®é™…ä¸Šè¿™é‡Œåªè¦æŠŠBLOCK 8æ¸…ç©ºæ‰å°±å¯ä»¥é‡ç½®æ»¤èŠ¯ã€‚æ‰§è¡Œ<code>hf mfu wrbl -b 8 -d 00000000 -k bc77b6ed</code>æ¸…é™¤BLOCK 8çš„æ•°æ®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[fpc] pm3 --&gt; hf mfu wrbl -b 8 -d 00000000 -k bc77b6ed</span><br><span class="line">[=] Block: 8 (0x08) [ 00 00 00 00 ]</span><br><span class="line">[=] Using pwd BC 77 B6 ED</span><br><span class="line">[+] isOk:01</span><br></pre></td></tr></table></figure><p>æ¸…é™¤å®ŒæˆåŠŸï¼Œå¯ä»¥æŠŠæ»¤èŠ¯æ”¾å›å»çœ‹ä¸‹æ•ˆæœã€‚<br><img src="/img/2021-08-21-12-49-25.png" alt="100%å¯¿å‘½"><br>æå®šï¼</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;å®¶é‡Œå°ç±³ç©ºæ°”å‡€åŒ–å™¨çš„æ»¤èŠ¯åˆåˆ°æœŸäº†ï¼Œç„¶è€Œæ·±åœ³è¿™è¾¹ç©ºæ°”è´¨é‡å¹³æ—¶å°±ä¸é”™ï¼Œåº”è¯¥è¿˜å¯ä»¥ç”¨å¾ˆä¹…ã€‚ä½†æ˜¯æ¼äººçš„è¿‡æœŸæç¤ºä»¤æˆ‘éå¸¸ä¸çˆ½ï¼Œå¾—æƒ³åŠæ³•å¹²æ‰è¿™ä¸ªæç¤ºã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç½‘ä¸Šçš„èµ„æ–™ï¼Œå°ç±³ç©ºæ°”å‡€åŒ–å™¨2Sæ˜¯ä¾èµ–æ»¤èŠ¯åº•éƒ¨çš„RFIDæ ‡ç­¾è®¡ç®—æ»¤èŠ¯å¯¿å‘½çš„ï¼Œæ­£å¥½æ‰‹å¤´æœ‰ä¸€å—RFIDçš„åˆ©å™¨-Proxmark3ã€‚å°è¯•ä¸‹èƒ½å¦è¯»å–å’Œä¿®æ”¹RFIDæ ‡ç­¾ä¸­çš„æ•°æ®ï¼Œæ¥å®ç°æ»¤èŠ¯å¯¿å‘½çš„é‡ç½®ã€‚&lt;br&gt;&lt;img src=&quot;/img/2021-08-21-12-50-41.png&quot; alt=&quot;æ»¤èŠ¯åº•éƒ¨çš„æ ‡ç­¾&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;è¯†åˆ«æ ‡ç­¾ç±»å‹&quot;&gt;&lt;a href=&quot;#è¯†åˆ«æ ‡ç­¾ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;è¯†åˆ«æ ‡ç­¾ç±»å‹&quot;&gt;&lt;/a&gt;è¯†åˆ«æ ‡ç­¾ç±»å‹&lt;/h1&gt;</summary>
    
    
    
    <category term="RFID" scheme="http://blog.raycn.pub/categories/RFID/"/>
    
    
    <category term="proxmark3" scheme="http://blog.raycn.pub/tags/proxmark3/"/>
    
  </entry>
  
  <entry>
    <title>Gitå¦‚ä½•åˆå…¥ä¸Šæ¸¸ä»“åº“çš„åˆ†æ”¯</title>
    <link href="http://blog.raycn.pub/2020/02/06/git-merge-upstream/"/>
    <id>http://blog.raycn.pub/2020/02/06/git-merge-upstream/</id>
    <published>2020-02-06T12:03:45.000Z</published>
    <updated>2020-02-06T12:03:45.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>githubä¸Šçš„å¼€æºé¡¹ç›®æœ‰æ—¶æ— æ³•å®Œå…¨æ»¡è¶³è‡ªå·±éœ€è¦ï¼Œæˆ–è€…é¡¹ç›®æœ¬èº«å­˜åœ¨BUGï¼Œä½†æ˜¯ç­‰ä¸åˆ°å¼€å‘è€…å»ä¿®å¤ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¾€å¾€ä¼šé€‰æ‹©forkï¼Œç„¶åè‡ªè¡Œä¿®æ”¹æˆ–ä½¿ç”¨ã€‚ä½†æ˜¯ä¸€æ®µæ—¶é—´åï¼ŒåŸé¡¹ç›®å¼€å‘è€…å¯èƒ½ä¼šæ›´æ–°é¡¹ç›®ï¼Œè¿½åŠ æ–°çš„åŠŸèƒ½æˆ–è€…ä¿®å¤å·²çŸ¥BUGã€‚è¿™æ—¶ï¼Œä¸ºäº†é¿å…ä¸ä¸Šæ¸¸è„±èŠ‚ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸Šæ¸¸ä»“åº“åˆå…¥åˆ°æˆ‘ä»¬forkçš„ä»“åº“ä¸­ã€‚</p><span id="more"></span><h1 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h1><p>è¿™é‡Œä»¥æœ¬blogçš„ä¸»é¢˜ï¼ˆthemeï¼‰ä¸ºä¾‹ï¼Œæˆ‘forkäº†åŸä½œè€…çš„ä»“åº“ï¼Œå¹¶åœ¨å…¶åŸºç¡€ä¸Šåšäº†äº›ä¸ªæ€§åŒ–çš„æ”¹åŠ¨ï¼Œè¿™äº›æ”¹åŠ¨ä½œè€…è‚¯å®šä¸ä¼šåˆå…¥çš„ã€‚ä½†æ˜¯è¿‘æœŸåŸä½œè€…åšäº†ä¸€äº›æ›´æ–°ï¼ŒåŠ å…¥çš„æ–°çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘è¦å°†æœ€æ–°çš„ç‰ˆæœ¬åˆå…¥åˆ°æˆ‘è‡ªå·±çš„ä»“åº“ä¸­ã€‚è¯¦ç»†æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p><h2 id="å°†è¦è‡ªå·±çš„ä»“åº“å…‹éš†ï¼ˆcloneï¼‰åˆ°æœ¬åœ°"><a href="#å°†è¦è‡ªå·±çš„ä»“åº“å…‹éš†ï¼ˆcloneï¼‰åˆ°æœ¬åœ°" class="headerlink" title="å°†è¦è‡ªå·±çš„ä»“åº“å…‹éš†ï¼ˆcloneï¼‰åˆ°æœ¬åœ°"></a>å°†è¦è‡ªå·±çš„ä»“åº“å…‹éš†ï¼ˆcloneï¼‰åˆ°æœ¬åœ°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/AxisRay/hexo-theme-material-flow.git</span><br></pre></td></tr></table></figure><h2 id="æ·»åŠ è¦åˆå…¥çš„ä¸Šæ¸¸ä»“åº“"><a href="#æ·»åŠ è¦åˆå…¥çš„ä¸Šæ¸¸ä»“åº“" class="headerlink" title="æ·»åŠ è¦åˆå…¥çš„ä¸Šæ¸¸ä»“åº“"></a>æ·»åŠ è¦åˆå…¥çš„ä¸Šæ¸¸ä»“åº“</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add upstream https://github.com/stkevintan/hexo-theme-material-flow.git</span><br></pre></td></tr></table></figure><h2 id="æ‹‰å–ï¼ˆpullï¼‰ä¸Šæ¸¸ä»“åº“"><a href="#æ‹‰å–ï¼ˆpullï¼‰ä¸Šæ¸¸ä»“åº“" class="headerlink" title="æ‹‰å–ï¼ˆpullï¼‰ä¸Šæ¸¸ä»“åº“"></a>æ‹‰å–ï¼ˆpullï¼‰ä¸Šæ¸¸ä»“åº“</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch upstream</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„æœ¬åœ°åˆ†æ”¯ï¼ˆbranchï¼‰ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°ä¸Šæ¸¸ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯"><a href="#åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„æœ¬åœ°åˆ†æ”¯ï¼ˆbranchï¼‰ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°ä¸Šæ¸¸ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯" class="headerlink" title="åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„æœ¬åœ°åˆ†æ”¯ï¼ˆbranchï¼‰ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°ä¸Šæ¸¸ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯"></a>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„æœ¬åœ°åˆ†æ”¯ï¼ˆbranchï¼‰ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°ä¸Šæ¸¸ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b upm upstream/master</span><br></pre></td></tr></table></figure><h2 id="åˆ‡æ¢åˆ°è‡ªå·±ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯ï¼Œå¹¶å°†ä¸Šè¿°æ–°åˆ†æ”¯åˆå…¥"><a href="#åˆ‡æ¢åˆ°è‡ªå·±ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯ï¼Œå¹¶å°†ä¸Šè¿°æ–°åˆ†æ”¯åˆå…¥" class="headerlink" title="åˆ‡æ¢åˆ°è‡ªå·±ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯ï¼Œå¹¶å°†ä¸Šè¿°æ–°åˆ†æ”¯åˆå…¥"></a>åˆ‡æ¢åˆ°è‡ªå·±ä»“åº“è¦åˆå…¥çš„åˆ†æ”¯ï¼Œå¹¶å°†ä¸Šè¿°æ–°åˆ†æ”¯åˆå…¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git merge upm</span><br></pre></td></tr></table></figure><h2 id="æœ€åå°†è‡ªå·±ä»“åº“æ›´æ–°ï¼ˆpushï¼‰ä¸Šå»å³å¯"><a href="#æœ€åå°†è‡ªå·±ä»“åº“æ›´æ–°ï¼ˆpushï¼‰ä¸Šå»å³å¯" class="headerlink" title="æœ€åå°†è‡ªå·±ä»“åº“æ›´æ–°ï¼ˆpushï¼‰ä¸Šå»å³å¯"></a>æœ€åå°†è‡ªå·±ä»“åº“æ›´æ–°ï¼ˆpushï¼‰ä¸Šå»å³å¯</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h1&gt;&lt;p&gt;githubä¸Šçš„å¼€æºé¡¹ç›®æœ‰æ—¶æ— æ³•å®Œå…¨æ»¡è¶³è‡ªå·±éœ€è¦ï¼Œæˆ–è€…é¡¹ç›®æœ¬èº«å­˜åœ¨BUGï¼Œä½†æ˜¯ç­‰ä¸åˆ°å¼€å‘è€…å»ä¿®å¤ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¾€å¾€ä¼šé€‰æ‹©forkï¼Œç„¶åè‡ªè¡Œä¿®æ”¹æˆ–ä½¿ç”¨ã€‚ä½†æ˜¯ä¸€æ®µæ—¶é—´åï¼ŒåŸé¡¹ç›®å¼€å‘è€…å¯èƒ½ä¼šæ›´æ–°é¡¹ç›®ï¼Œè¿½åŠ æ–°çš„åŠŸèƒ½æˆ–è€…ä¿®å¤å·²çŸ¥BUGã€‚è¿™æ—¶ï¼Œä¸ºäº†é¿å…ä¸ä¸Šæ¸¸è„±èŠ‚ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸Šæ¸¸ä»“åº“åˆå…¥åˆ°æˆ‘ä»¬forkçš„ä»“åº“ä¸­ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="git" scheme="http://blog.raycn.pub/categories/git/"/>
    
    
    <category term="git" scheme="http://blog.raycn.pub/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³jenkinsæ²¡æœ‰æƒé™è°ƒç”¨Dockerçš„é—®é¢˜</title>
    <link href="http://blog.raycn.pub/2017/06/17/jenkins-docker-permission-problem/"/>
    <id>http://blog.raycn.pub/2017/06/17/jenkins-docker-permission-problem/</id>
    <published>2017-06-17T14:23:33.000Z</published>
    <updated>2017-06-17T14:23:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>jenkinsåœ¨æ„å»ºæ­¥éª¤ä¸­è°ƒç”¨dockeræç¤ºå¦‚ä¸‹é”™è¯¯ã€‚</p><blockquote><p>dial unix /var/run/docker.sock: permission denied. Are you trying to connect to a TLS-enabled daemon without TLS?</p></blockquote><span id="more"></span><p>æ˜æ˜¾è¿™æ˜¯å› ä¸ºæƒé™é—®é¢˜å¯¼è‡´ï¼Œå‚è€ƒ<a href="https://stackoverflow.com/questions/40877705/var-run-docker-sock-permission-denied-while-running-docker-within-python-cgi-s">stackoverflow</a>ä¸Šçš„è§£å†³æ–¹æ¡ˆï¼Œå°†Jenkinsç”¨æˆ·æ·»åŠ åˆ°dockerç»„ä¸­ï¼Œé‡å¯dockeræœåŠ¡å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -a -G docker <span class="variable">$username</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ–è®¸æ˜¯ç”±äºdockeræˆ–è€…ç³»ç»Ÿç‰ˆæœ¬æ¯”è¾ƒè€ï¼Œæ²¡æœ‰æ‰€è°“çš„dockerç»„ï¼Œåªæœ‰dockerrootç»„ã€‚å°†jenkinsæ·»åŠ åˆ°dockerrootç»„åä»ç„¶æç¤ºæƒé™ä¸è¶³ã€‚ç›´æ¥è®©jenkinsä»¥rootèº«ä»½è¿è¡Œä¹Ÿä¸å®‰å…¨ï¼Œäºæ˜¯è€ƒè™‘ä½¿ç”¨sudoæ›²çº¿æ•‘å›½ã€‚  </p><ul><li>ç¼–è¾‘sudoersæ–‡ä»¶<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo</span><br></pre></td></tr></table></figure></li><li>æ·»åŠ å‘½ä»¤åˆ«å<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">## Docker</span><br><span class="line">Cmnd_Alias DOCKER = /usr/bin/docker</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>ç»™jenkinsä»¥sudoæƒé™<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jenkins ALL=(ALL)       NOPASSWD:DOCKER</span><br></pre></td></tr></table></figure></li><li>:wqä¿å­˜é€€å‡ºï¼Œè°ƒæ•´jenkinsæ„å»ºæ­¥éª¤ï¼Œå¢åŠ sudo  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">16:09:36 Sending build context to Docker daemon   148 kB</span><br><span class="line">16:09:36 Sending build context to Docker daemon </span><br><span class="line">16:09:36 Step 0 : FROM microsoft/dotnet</span><br><span class="line">16:09:36  ---&gt; 2c9e30c8fccd</span><br><span class="line">16:09:36 Step 1 : WORKDIR /app</span><br><span class="line">16:09:36  ---&gt; Running in 3c50062d5f6d</span><br><span class="line">16:09:40  ---&gt; 3d22684a6579</span><br></pre></td></tr></table></figure>è‡³æ­¤é—®é¢˜è§£å†³ï¼Œä¸è¿‡è¿™æ ·è¿˜æ˜¯åæœ‰äº›å®‰å…¨éšæ‚£ï¼Œåç»­å†è€ƒè™‘ä¼˜åŒ–å§ã€‚</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;jenkinsåœ¨æ„å»ºæ­¥éª¤ä¸­è°ƒç”¨dockeræç¤ºå¦‚ä¸‹é”™è¯¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;dial unix /var/run/docker.sock: permission denied. Are you trying to connect to a TLS-enabled daemon without TLS?&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="linux" scheme="http://blog.raycn.pub/categories/linux/"/>
    
    
    <category term="docker" scheme="http://blog.raycn.pub/tags/docker/"/>
    
    <category term="linux" scheme="http://blog.raycn.pub/tags/linux/"/>
    
    <category term="jenkins" scheme="http://blog.raycn.pub/tags/jenkins/"/>
    
  </entry>
  
  <entry>
    <title>Bashå˜é‡æ“ä½œå®éªŒ-å˜é‡çš„æµ‹è¯•å’Œå†…å®¹æ›¿æ¢</title>
    <link href="http://blog.raycn.pub/2015/01/29/linux-set-var/"/>
    <id>http://blog.raycn.pub/2015/01/29/linux-set-var/</id>
    <published>2015-01-29T02:15:21.000Z</published>
    <updated>2015-01-29T02:15:21.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æŸäº›æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨ç»™å˜é‡èµ‹å€¼ä¹‹å‰è¦å¯¹__æŸä¸ª__å˜é‡è¿›è¡Œ__åˆ¤æ–­__,æ ¹æ®ç»“æœæ¥å†³å®šæˆ‘ä»¬ä¸‹ä¸€æ­¥çš„èµ‹å€¼æ“ä½œï¼Œä¸‹é¢æ¼”ç¤ºä¸‹å‡ ç§åˆ¤æ–­çš„æ–¹å¼ã€‚</p><span id="more"></span><h1 id="å®éªŒå‡†å¤‡"><a href="#å®éªŒå‡†å¤‡" class="headerlink" title="å®éªŒå‡†å¤‡"></a>å®éªŒå‡†å¤‡</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ var_value=<span class="string">&quot;test&quot;</span></span><br><span class="line">$ var_empty=<span class="string">&quot;&quot;</span></span><br><span class="line">$ <span class="built_in">unset</span> var_null</span><br><span class="line">$ result=<span class="string">&quot;hello&quot;</span></span><br></pre></td></tr></table></figure><p>å…ˆåˆ›å»º4ä¸ªå˜é‡ï¼ˆå®é™…ä¸Šæ˜¯3ä¸ªï¼Œå› ä¸ºvar_nullä¸å­˜åœ¨ï¼‰ã€‚<br>var_valueå€¼ä¸ºtest<br>var_emptyå€¼ä¸ºç©ºå­—ç¬¦<br>var_nullä¸å­˜åœ¨ï¼Œç”¨unsetç¡®ä¿å®ƒä¸å­˜åœ¨<br>resultç”¨æ¥ä¿å­˜ç»“æœï¼Œå…ˆèµ‹ä¸ªåˆå€¼hello</p><!-- more --><h2 id="å®éªŒ1ã€â€œ-â€æ“ä½œç¬¦"><a href="#å®éªŒ1ã€â€œ-â€æ“ä½œç¬¦" class="headerlink" title="å®éªŒ1ã€â€œ-â€æ“ä½œç¬¦"></a>å®éªŒ1ã€â€œ-â€æ“ä½œç¬¦</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">hello</span><br><span class="line">$ result=<span class="variable">$&#123;var_value-default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"><span class="built_in">test</span></span><br><span class="line">$ result=<span class="variable">$&#123;var_empty-default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br><span class="line">$ result=<span class="variable">$&#123;var_null-default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">default</span><br></pre></td></tr></table></figure><p>å› ä¸º$var_valueå­˜åœ¨ï¼Œæ‰€ä»¥$resultçš„å€¼è¢«æ›¿æ¢æˆ$var_valueçš„å€¼ï¼Œå³test<br>è™½ç„¶$var_valueä¸ºç©ºå­—ç¬¦ï¼Œä½†ä¹Ÿè§†ä¸ºå˜é‡å­˜åœ¨ï¼Œå› æ­¤$resultçš„å€¼è¢«æ›¿æ¢ä¸º$var_emptyçš„å€¼ï¼Œå³ç©ºå­—ç¬¦<br>å› ä¸º$var_nullä¸å­˜åœ¨ï¼Œæ‰€ä»¥$resultçš„å€¼è¢«æ›¿æ¢ä¸ºé»˜è®¤å€¼default</p><p>è¦æŠŠç©ºå­—ç¬¦ä¹Ÿè§†ä¸ºå˜é‡ä¸å­˜åœ¨ï¼Œåˆ™éœ€è¦â€:â€æ“ä½œç¬¦</p><blockquote><p><strong>Tips</strong><br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒBashå¹¶ä¸åŒºåˆ†ç©ºå˜é‡å’Œç©ºå­—ç¬¦å˜é‡,ä½†æ˜¯æ­¤å¤„ä¼šåšåŒºåˆ†ã€‚è€Œâ€œï¼šâ€æ“ä½œç¬¦ä¼šå–æ¶ˆä»–ä»¬ä¹‹é—´çš„å·®å¼‚ã€‚<br><a href="http://stackoverflow.com/questions/12262696/using-unset-vs-setting-a-variable-to-empty"><strong>è¯¦æƒ…å¯ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹</strong></a></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">hello</span><br><span class="line">$ result=<span class="variable">$&#123;var_empty:-default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">default</span><br></pre></td></tr></table></figure><h2 id="å®éªŒ2ã€â€œ-â€æ“ä½œç¬¦"><a href="#å®éªŒ2ã€â€œ-â€æ“ä½œç¬¦" class="headerlink" title="å®éªŒ2ã€â€œ+â€æ“ä½œç¬¦"></a>å®éªŒ2ã€â€œ+â€æ“ä½œç¬¦</h2><p>â€œ+â€åŸºæœ¬ä¸Šå’Œâ€œ-â€æ˜¯å®Œå…¨ç›¸åçš„ï¼Œè€Œâ€œï¼šâ€åˆ™ä¼šå’Œåˆšæ‰ä¸€æ ·æŠŠç©ºå­—ç¬¦å˜é‡å’Œç©ºå˜é‡ä¸€è§†åŒä»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">hello</span><br><span class="line">$ result=<span class="variable">$&#123;var_value+default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">default</span><br><span class="line">$ result=<span class="variable">$&#123;var_empty+default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">default</span><br><span class="line">$ result=<span class="variable">$&#123;var_null+default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br><span class="line">$ result=<span class="variable">$&#123;var_empty:+default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®éªŒ3ã€â€œ-â€æ“ä½œç¬¦"><a href="#å®éªŒ3ã€â€œ-â€æ“ä½œç¬¦" class="headerlink" title="å®éªŒ3ã€â€œ=â€æ“ä½œç¬¦"></a>å®éªŒ3ã€â€œ=â€æ“ä½œç¬¦</h2><p>â€œ=â€æ“ä½œç¬¦çš„è§„åˆ™åŸºæœ¬å’Œâ€œ-â€ä¸€è‡´ï¼Œä½†æ˜¯æ›¿æ¢æ—¶ä¼šæŠŠä¸¤ä¸ªå˜é‡ä¸€åŒæ›¿æ¢ã€‚è€Œâ€œï¼šâ€æ“ä½œç¬¦ä¼šæŠŠç©ºå­—ç¬¦å˜é‡å’Œç©ºå˜é‡ä¸€è§†åŒä»ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">hello</span><br><span class="line">$ result=<span class="variable">$&#123;var_value=default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"><span class="built_in">test</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$var_value</span></span><br><span class="line"><span class="built_in">test</span></span><br><span class="line">$ result=<span class="variable">$&#123;var_empty=default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$var_value</span></span><br><span class="line"></span><br><span class="line">$ result=<span class="variable">$&#123;var_null=default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">default</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$var_null</span></span><br><span class="line">default</span><br><span class="line">$ result=<span class="variable">$&#123;var_empty:+default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å®éªŒ4ã€â€œ-â€æ“ä½œç¬¦"><a href="#å®éªŒ4ã€â€œ-â€æ“ä½œç¬¦" class="headerlink" title="å®éªŒ4ã€â€œ?â€æ“ä½œç¬¦"></a>å®éªŒ4ã€â€œ?â€æ“ä½œç¬¦</h2><p>â€œ?â€æ“ä½œç¬¦ä¸â€œ-â€çš„å·®å¼‚æ˜¯ï¼Œå½“è¢«æ£€æŸ¥çš„å˜é‡ä¸ºç©ºæ—¶ï¼Œä¼šå°†é»˜è®¤å­—ç¬¦é€å…¥æ ‡å‡†é”™è¯¯æµï¼Œè€Œä¸æ˜¯èµ‹å€¼ç»™å˜é‡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">hello</span><br><span class="line">$ result=<span class="variable">$&#123;var_value?default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line">hello</span><br><span class="line">$ result=<span class="variable">$&#123;var_empty?default&#125;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br><span class="line">$ result=<span class="variable">$&#123;var_null?default&#125;</span></span><br><span class="line">bash: var_null: default</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br><span class="line">$ result=<span class="variable">$&#123;var_empty:?default&#125;</span></span><br><span class="line">bash: var_null: default</span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$result</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;æŸäº›æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨ç»™å˜é‡èµ‹å€¼ä¹‹å‰è¦å¯¹__æŸä¸ª__å˜é‡è¿›è¡Œ__åˆ¤æ–­__,æ ¹æ®ç»“æœæ¥å†³å®šæˆ‘ä»¬ä¸‹ä¸€æ­¥çš„èµ‹å€¼æ“ä½œï¼Œä¸‹é¢æ¼”ç¤ºä¸‹å‡ ç§åˆ¤æ–­çš„æ–¹å¼ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="linux" scheme="http://blog.raycn.pub/categories/linux/"/>
    
    
    <category term="linux" scheme="http://blog.raycn.pub/tags/linux/"/>
    
    <category term="bash" scheme="http://blog.raycn.pub/tags/bash/"/>
    
  </entry>
  
  <entry>
    <title>tmuxä½¿ç”¨ç¬”è®°</title>
    <link href="http://blog.raycn.pub/2015/01/28/tmux-intruduction/"/>
    <id>http://blog.raycn.pub/2015/01/28/tmux-intruduction/</id>
    <published>2015-01-28T04:33:42.000Z</published>
    <updated>2015-01-28T04:33:42.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="tmuxç®€ä»‹"><a href="#tmuxç®€ä»‹" class="headerlink" title="tmuxç®€ä»‹"></a>tmuxç®€ä»‹</h1><p>tmuxæ˜¯<br>ä¸€ä¸ªä¼˜ç§€çš„ç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œç±»ä¼¼GNU Screenï¼Œä½†æ¥è‡ªäºOpenBSDï¼Œé‡‡ç”¨BSDæˆæƒã€‚tmuxé‡‡ç”¨C/Sæ¨¡å‹æ„å»ºï¼ŒåŒ…å«ä»¥ä¸‹æ¨¡å—Serverï¼ŒSessionï¼ŒWindowï¼ŒPanel<br><img src="/img/tmux.jpg" alt="tmux"></p><span id="more"></span><h1 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install tmux</span><br></pre></td></tr></table></figure><p>ç»ˆç«¯ä¸­é”®å…¥tmux,é¦–å…ˆä¼šå¯åŠ¨Server,ç„¶åå°±åˆ›å»ºä¸€ä¸ªSessionï¼Œè¿™ä¸ªSessionä¼šåˆ›å»ºä¸€ä¸ªWindowï¼Œä»…åŒ…å«ä¸€ä¸ªPanelã€‚</p><p>tmux new -s session<br>tmux new -s session -d #åœ¨åå°å»ºç«‹ä¼šè¯<br>tmux ls #åˆ—å‡ºä¼šè¯<br>tmux attach -t session #è¿›å…¥æŸä¸ªä¼šè¯</p><ul><li><p>Server æœåŠ¡å™¨<br>ç¬¬ä¸€æ¬¡é”®å…¥tmuxå¯åŠ¨çš„æ—¶å€™å°±å¼€å¯äº†ä¸€ä¸ªæœåŠ¡å™¨Serverï¼Œé€šè¿‡è¿™ä¸ªæœåŠ¡å™¨ç”šè‡³å¯ä»¥å®ç°ç»ˆç«¯å…±äº«ã€‚</p></li><li><p>Session ä¼šè¯<br>æ¯ä½¿ç”¨tmuxå‘½ä»¤å¯åŠ¨ï¼Œä¾¿ä¼šå»ºç«‹ä¸€ä¸ªä¼šè¯Sessionï¼Œä¸€ä¸ªæœåŠ¡å™¨å¯ä»¥ä¿æŒå¤šä¸ªä¼šè¯è¿æ¥ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å¤šä¸ªä¼šè¯ä¹‹é—´åˆ‡æ¢ã€‚</p></li><li><p>Window çª—å£<br>ä¸€ä¸ªSessionå¯åŒ…å«å¤šä¸ªçª—å£Windowï¼Œæ¯ä¸ªçª—å£éƒ½ä»¥æ ‡ç­¾çš„å½¢å¼æ˜¾ç¤ºåœ¨Sessionä¸‹é¢çš„çŠ¶æ€æ é‡Œ</p></li><li><p>Panel é¢æ¿<br>æ¯ä¸ªçª—å£å¯ä»¥åˆ’åˆ†å¤šä¸ªPanelï¼Œå®ç°åˆ†å±æ˜¾ç¤º</p></li></ul><h1 id="æ“ä½œè¯´æ˜"><a href="#æ“ä½œè¯´æ˜" class="headerlink" title="æ“ä½œè¯´æ˜"></a>æ“ä½œè¯´æ˜</h1><p>Ctrl+b (C-b) æ˜¯æ¿€æ´»tmuxæ§åˆ¶å°çš„é»˜è®¤å¿«æ·é”®ï¼Œä»¥ä¸‹çš„æ§åˆ¶å‘½ä»¤éƒ½è¦å…ˆé”®å…¥Ctrl+bæ¿€æ´»æ§åˆ¶å°ã€‚</p><h2 id="1ã€ç³»ç»Ÿæ“ä½œ"><a href="#1ã€ç³»ç»Ÿæ“ä½œ" class="headerlink" title="1ã€ç³»ç»Ÿæ“ä½œ"></a>1ã€ç³»ç»Ÿæ“ä½œ</h2><p> <strong>?</strong> åˆ—å‡ºæ‰€æœ‰å¿«æ·é”®ï¼›æŒ‰qè¿”å›<br> <strong>d</strong> è„±ç¦»å½“å‰ä¼šè¯ï¼›è¿™æ ·å¯ä»¥æš‚æ—¶è¿”å›Shellç•Œé¢ï¼Œè¾“å…¥tmux attachèƒ½å¤Ÿé‡æ–°è¿›å…¥ä¹‹å‰çš„ä¼šè¯<br> <strong>D</strong> é€‰æ‹©è¦è„±ç¦»çš„ä¼šè¯ï¼›åœ¨åŒæ—¶å¼€å¯äº†å¤šä¸ªä¼šè¯æ—¶ä½¿ç”¨<br> <strong>s</strong> é€‰æ‹©å¹¶åˆ‡æ¢ä¼šè¯ï¼›åœ¨åŒæ—¶å¼€å¯äº†å¤šä¸ªä¼šè¯æ—¶ä½¿ç”¨<br> <strong>:</strong> è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼›æ­¤æ—¶å¯ä»¥è¾“å…¥æ”¯æŒçš„å‘½ä»¤ï¼Œä¾‹å¦‚kill-serverå¯ä»¥å…³é—­æœåŠ¡å™¨<br> <strong>[</strong> è¿›å…¥å¤åˆ¶æ¨¡å¼ï¼›æ­¤æ—¶çš„æ“ä½œä¸vi/emacsç›¸åŒï¼ŒæŒ‰q/Escé€€å‡º<br> <strong>~</strong> åˆ—å‡ºæç¤ºä¿¡æ¯ç¼“å­˜ï¼›å…¶ä¸­åŒ…å«äº†ä¹‹å‰tmuxè¿”å›çš„å„ç§æç¤ºä¿¡æ¯<br> <strong>C-z</strong> æŒ‚èµ·å½“å‰ä¼šè¯</p><h2 id="2ã€çª—å£æ“ä½œ"><a href="#2ã€çª—å£æ“ä½œ" class="headerlink" title="2ã€çª—å£æ“ä½œ"></a>2ã€çª—å£æ“ä½œ</h2><p><strong>c</strong> åˆ›å»ºæ–°çª—å£<br><strong>&amp;</strong> å…³é—­å½“å‰çª—å£<br><strong>p</strong> åˆ‡æ¢è‡³ä¸Šä¸€çª—å£<br><strong>n</strong> åˆ‡æ¢è‡³ä¸‹ä¸€çª—å£<br><strong>l</strong> åœ¨å‰åä¸¤ä¸ªçª—å£é—´äº’ç›¸åˆ‡æ¢<br><strong>w</strong> é€šè¿‡çª—å£åˆ—è¡¨åˆ‡æ¢çª—å£<br><strong>,</strong> é‡å‘½åå½“å‰çª—å£ï¼›è¿™æ ·ä¾¿äºè¯†åˆ«<br><strong>.</strong> ä¿®æ”¹å½“å‰çª—å£ç¼–å·ï¼›ç›¸å½“äºçª—å£é‡æ–°æ’åº<br><strong>f</strong> åœ¨æ‰€æœ‰çª—å£ä¸­æŸ¥æ‰¾æŒ‡å®šæ–‡æœ¬<br><strong>æ•°å­—</strong> åˆ‡æ¢è‡³åˆ¶å®šçª—å£</p><h2 id="3ã€é¢æ¿æ“ä½œ"><a href="#3ã€é¢æ¿æ“ä½œ" class="headerlink" title="3ã€é¢æ¿æ“ä½œ"></a>3ã€é¢æ¿æ“ä½œ</h2><p><strong>â€</strong> å°†å½“å‰é¢æ¿å¹³åˆ†ä¸ºä¸Šä¸‹ä¸¤å—<br><strong>%</strong> å°†å½“å‰é¢æ¿å¹³åˆ†ä¸ºå·¦å³ä¸¤å—<br><strong>x</strong> å…³é—­å½“å‰é¢æ¿<br><strong>!</strong> å°†å½“å‰é¢æ¿ç½®äºæ–°çª—å£ï¼›å³æ–°å»ºä¸€ä¸ªçª—å£ï¼Œå…¶ä¸­ä»…åŒ…å«å½“å‰é¢æ¿<br><strong>q</strong> æ˜¾ç¤ºé¢æ¿ç¼–å·<br><strong>o</strong> åœ¨å½“å‰çª—å£ä¸­é€‰æ‹©ä¸‹ä¸€é¢æ¿<br><strong>{</strong> å‘å‰ç½®æ¢å½“å‰é¢æ¿<br><strong>}</strong> å‘åç½®æ¢å½“å‰é¢æ¿<br><strong>Alt+o</strong> é€†æ—¶é’ˆæ—‹è½¬å½“å‰çª—å£çš„é¢æ¿<br><strong>Alt+æ–¹å‘é”®</strong> ä»¥5ä¸ªå•å…ƒæ ¼ä¸ºå•ä½ç§»åŠ¨è¾¹ç¼˜ä»¥è°ƒæ•´å½“å‰é¢æ¿å¤§å°<br><strong>Ctrl+o</strong> é¡ºæ—¶é’ˆæ—‹è½¬å½“å‰çª—å£çš„é¢æ¿<br><strong>æ–¹å‘é”®</strong> ç§»åŠ¨å…‰æ ‡ä»¥é€‰æ‹©é¢æ¿<br><strong>Ctrl+æ–¹å‘é”®</strong> ä»¥1ä¸ªå•å…ƒæ ¼ä¸ºå•ä½ç§»åŠ¨è¾¹ç¼˜ä»¥è°ƒæ•´å½“å‰é¢æ¿å¤§å°<br><strong>Space</strong> åœ¨é¢„ç½®çš„é¢æ¿å¸ƒå±€ä¸­å¾ªç¯åˆ‡æ¢ï¼›ä¾æ¬¡åŒ…æ‹¬even-horizontalã€even-verticalã€main-horizontalã€main-verticalã€tiled</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;tmuxç®€ä»‹&quot;&gt;&lt;a href=&quot;#tmuxç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;tmuxç®€ä»‹&quot;&gt;&lt;/a&gt;tmuxç®€ä»‹&lt;/h1&gt;&lt;p&gt;tmuxæ˜¯&lt;br&gt;ä¸€ä¸ªä¼˜ç§€çš„ç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œç±»ä¼¼GNU Screenï¼Œä½†æ¥è‡ªäºOpenBSDï¼Œé‡‡ç”¨BSDæˆæƒã€‚tmuxé‡‡ç”¨C/Sæ¨¡å‹æ„å»ºï¼ŒåŒ…å«ä»¥ä¸‹æ¨¡å—Serverï¼ŒSessionï¼ŒWindowï¼ŒPanel&lt;br&gt;&lt;img src=&quot;/img/tmux.jpg&quot; alt=&quot;tmux&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="linux" scheme="http://blog.raycn.pub/categories/linux/"/>
    
    
    <category term="linux" scheme="http://blog.raycn.pub/tags/linux/"/>
    
    <category term="tmux" scheme="http://blog.raycn.pub/tags/tmux/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuä¸‹ä¿®æ”¹Bashçš„æç¤ºç¬¦</title>
    <link href="http://blog.raycn.pub/2015/01/27/ubuntu-change-bash-prompt/"/>
    <id>http://blog.raycn.pub/2015/01/27/ubuntu-change-bash-prompt/</id>
    <published>2015-01-27T14:23:33.000Z</published>
    <updated>2015-01-27T14:23:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>Bashçš„æç¤ºç¬¦è®¾ç½®ä¿å­˜åœ¨$PS1è¿™ä¸ªå˜é‡ä¸­ï¼Œé€šè¿‡echoå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰è®¾ç½®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ray@Ray-Laptop:~$ <span class="built_in">echo</span> <span class="variable">$PS1</span></span><br><span class="line"><span class="variable">$&#123;debian_chroot:+($debian_chroot)&#125;</span>\u@\h:\w\$ </span><br></pre></td></tr></table></figure><span id="more"></span><p>é»˜è®¤çš„ä¸€äº›ç‰¹æ®Šç¬¦å·æ‰€ä»£è¡¨çš„å«ä¹‰ï¼š<br><strong>\d</strong> ï¼šä»£è¡¨æ—¥æœŸï¼Œæ ¼å¼ä¸ºweekday month dateï¼Œä¾‹å¦‚ï¼šâ€Mon Aug 1â€<br><strong>\H</strong> ï¼šå®Œæ•´çš„ä¸»æœºåç§°ã€‚ä¾‹å¦‚ï¼šæˆ‘çš„æœºå™¨åç§°ä¸ºï¼šRay-Laptop.localï¼Œåˆ™è¿™ä¸ªåç§°å°±æ˜¯Ray-Laptop.local<br><strong>\h</strong> ï¼šä»…å–ä¸»æœºçš„ç¬¬ä¸€ä¸ªåå­—ï¼Œå¦‚ä¸Šä¾‹ï¼Œåˆ™ä¸ºRay-Laptopï¼Œlocalåˆ™è¢«çœç•¥<br><strong>\t</strong> ï¼šæ˜¾ç¤ºæ—¶é—´ä¸º24å°æ—¶æ ¼å¼ï¼Œå¦‚ï¼šHHï¼šMMï¼šSS<br><strong>\T</strong> ï¼šæ˜¾ç¤ºæ—¶é—´ä¸º12å°æ—¶æ ¼å¼<br><strong>\A</strong> ï¼šæ˜¾ç¤ºæ—¶é—´ä¸º24å°æ—¶æ ¼å¼ï¼šHHï¼šMM<br><strong>\u</strong> ï¼šå½“å‰ç”¨æˆ·çš„è´¦å·åç§°<br><strong>\v</strong> ï¼šBASHçš„ç‰ˆæœ¬ä¿¡æ¯<br><strong>\w</strong> ï¼šå®Œæ•´çš„å·¥ä½œç›®å½•åç§°ã€‚å®¶ç›®å½•ä¼šä»¥ ~ä»£æ›¿<br><strong>\W</strong> ï¼šåˆ©ç”¨basenameå–å¾—å·¥ä½œç›®å½•åç§°ï¼Œæ‰€ä»¥åªä¼šåˆ—å‡ºæœ€åä¸€ä¸ªç›®å½•<br><strong>\#</strong> ï¼šä¸‹è¾¾çš„ç¬¬å‡ ä¸ªå‘½ä»¤<br><strong>$</strong> ï¼šæç¤ºå­—ç¬¦ï¼Œå¦‚æœæ˜¯rootæ—¶ï¼Œæç¤ºç¬¦ä¸ºï¼š# ï¼Œæ™®é€šç”¨æˆ·åˆ™ä¸ºï¼š$</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹æç¤ºç¬¦æ–¹æ³•è§£å†³è¿›å…¥è¾ƒæ·±ç›®å½•æ—¶ï¼Œæç¤ºç¬¦è¿‡é•¿çš„é—®é¢˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS1=<span class="variable">$&#123;debian_chroot:+($debian_chroot)&#125;</span>\u@\h:\W\$ </span><br></pre></td></tr></table></figure><p>å³å°†åŸæ¥çš„\wæ›¿æ¢ä¸º\Wï¼Œä½†æ˜¯è¯¥æ–¹æ³•ä»…åœ¨æœ¬æ¬¡ä¼šè¯æœ‰æ•ˆã€‚æˆ‘ä»¬å¯é€šè¿‡ä¿®æ”¹ç”¨æˆ·æ ¹ç›®å½•ï½ä¸‹çš„.bashrcæ–‡ä»¶ï¼Œè¾¾åˆ°é•¿æœŸæœ‰æ•ˆçš„ç›®çš„ã€‚</p><p>ä¿®æ”¹å‰ï¼š<br><img src="/img/prompt-too-long.png" alt="prompt-too-long"><br>ä¿®æ”¹åï¼š<br><img src="/img/prompt-proper.png" alt="prompt-proper"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Bashçš„æç¤ºç¬¦è®¾ç½®ä¿å­˜åœ¨$PS1è¿™ä¸ªå˜é‡ä¸­ï¼Œé€šè¿‡echoå‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰è®¾ç½®&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;ray@Ray-Laptop:~$ &lt;span class=&quot;built_in&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;$PS1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$&amp;#123;debian_chroot:+($debian_chroot)&amp;#125;&lt;/span&gt;\u@\h:\w\$ &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="linux" scheme="http://blog.raycn.pub/categories/linux/"/>
    
    
    <category term="linux" scheme="http://blog.raycn.pub/tags/linux/"/>
    
    <category term="bash" scheme="http://blog.raycn.pub/tags/bash/"/>
    
    <category term="prompt" scheme="http://blog.raycn.pub/tags/prompt/"/>
    
  </entry>
  
  <entry>
    <title>linuxæ–‡ä»¶åŠç›®å½•æƒé™ç¬”è®°</title>
    <link href="http://blog.raycn.pub/2015/01/04/linux-dir-and-file-permission/"/>
    <id>http://blog.raycn.pub/2015/01/04/linux-dir-and-file-permission/</id>
    <published>2015-01-04T06:44:36.000Z</published>
    <updated>2015-01-04T06:44:36.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ–‡ä»¶æƒé™"><a href="#æ–‡ä»¶æƒé™" class="headerlink" title="æ–‡ä»¶æƒé™"></a>æ–‡ä»¶æƒé™</h1><p>æƒé™åˆ†ä¸‰ç§ï¼Œè¯»ï¼ˆrï¼‰å†™ï¼ˆwï¼‰å¯æ‰§è¡Œï¼ˆxï¼‰ã€‚â€œrâ€“â€ã€â€œrw-â€ã€â€œrwxâ€è¿™ä¸‰ç§æƒé™ç»„åˆæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚â€œrâ€“â€åªè¯»ï¼Œâ€œrw-â€å¯è¯»å¯å†™ï¼Œâ€œrwxâ€å¯è¯»å¯å†™å¯æ‰§è¡Œï¼Œä¸‹é¢ä»‹ç»å‡ ç§æ¯”è¾ƒå¦ç±»æƒé™ç»„åˆã€‚</p><span id="more"></span><h2 id="w-ã€-wxï¼š"><a href="#w-ã€-wxï¼š" class="headerlink" title="-w-ã€-wxï¼š"></a><strong>-w-ã€-wxï¼š</strong></h2><p>åªå†™æƒé™ï¼Œåªèƒ½å†™å…¥ä¸èƒ½è¯»å–ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-rw-rw--w- 1 root root    5 Jan  4 12:00 testfile</span><br><span class="line">/tmp$ cat testfile</span><br><span class="line">cat: testfile: Permission denied</span><br><span class="line">/tmp$ <span class="built_in">echo</span> <span class="string">&quot;write-test&quot;</span>&gt;testfile</span><br><span class="line">/tmp$ su root</span><br><span class="line">Password: </span><br><span class="line">root@axisray:/tmp<span class="comment"># cat testfile </span></span><br><span class="line">write-test</span><br></pre></td></tr></table></figure><h2 id="â€“xã€-wxï¼š"><a href="#â€“xã€-wxï¼š" class="headerlink" title="â€“xã€-wxï¼š"></a><strong>â€“xã€-wxï¼š</strong></h2><p>è™½ç„¶æœ‰æ‰§è¡Œæƒé™ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰è¯»æƒé™ï¼Œè¿æ–‡ä»¶å†…å®¹éƒ½ä¸çŸ¥é“è°ˆä½•æ‰§è¡Œå‘¢ï¼Ÿ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-rw-rw---x  1 root root   26 Jan  4 12:53 testfile*</span><br><span class="line">/tmp$ ./testfile </span><br><span class="line">/bin/bash: ./testfile: Permission denied</span><br><span class="line">/tmp$ su root</span><br><span class="line">Password: </span><br><span class="line">root@axisray:/tmp<span class="comment"># chmod o=rx testfile</span></span><br><span class="line">root@axisray:/tmp$ ll | grep testfile</span><br><span class="line">-rw-rw-r-x  1 root root   26 Jan  4 12:53 testfile*</span><br><span class="line">root@axisray:/tmp<span class="comment"># su ray</span></span><br><span class="line">/tmp$ ./testfile </span><br><span class="line">hello!</span><br></pre></td></tr></table></figure><h1 id="ç›®å½•æƒé™"><a href="#ç›®å½•æƒé™" class="headerlink" title="ç›®å½•æƒé™"></a>ç›®å½•æƒé™</h1><p>ç›®å½•æƒé™çš„å…³é”®åœ¨äºå¯æ‰§è¡Œæƒé™ï¼ˆxï¼‰ï¼Œä¸‹é¢é€ä¸ªè¯´æ˜</p><h2 id="râ€“ã€rw-ã€-w-ï¼š"><a href="#râ€“ã€rw-ã€-w-ï¼š" class="headerlink" title="râ€“ã€rw-ã€-w-ï¼š"></a>râ€“ã€rw-ã€-w-ï¼š</h2><p>æ— å¯æ‰§è¡Œ<br>drwxr-xrâ€“ 4 root root 4096 Jan  4 11:53 test/</p><p>cdå‘½ä»¤éœ€è¦å¯æ‰§è¡Œï¼ˆxï¼‰æƒé™ï¼Œå› æ­¤æ— æ³•é€šè¿‡cdå‘½ä»¤åˆ‡æ¢åˆ°è¯¥ç›®å½•ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ <span class="built_in">cd</span> <span class="built_in">test</span>/</span><br><span class="line">bash: <span class="built_in">cd</span>: <span class="built_in">test</span>/: Permission denied</span><br></pre></td></tr></table></figure><p>å­ç›®å½•ä¹Ÿæ˜¯ä¸å¯åˆ‡æ¢çš„ï¼Œå³ä¾¿å¯¹å­ç›®å½•æœ‰å®Œæ•´æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ <span class="built_in">cd</span> <span class="built_in">test</span>/test-dir1/</span><br><span class="line">bash: <span class="built_in">cd</span>: <span class="built_in">test</span>/test-dir1/: Permission denied</span><br></pre></td></tr></table></figure><p>åŒæ ·å¯¹äºcatå‘½ä»¤ï¼Œç”±äºç¼ºå°‘å¯æ‰§è¡Œï¼ˆxï¼‰æƒé™ï¼Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¹Ÿæ˜¯ä¸å¯è¯»çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ cat <span class="built_in">test</span>/test-file2</span><br><span class="line">cat: <span class="built_in">test</span>/test-file2: Permission denied</span><br></pre></td></tr></table></figure><p>cpå‘½ä»¤ä¹Ÿæ˜¯ä¸å¯ä»¥çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ cp <span class="built_in">test</span>/test-file2 ./</span><br><span class="line">cp: cannot <span class="built_in">stat</span> â€˜<span class="built_in">test</span>/test-file2â€™: Permission denied</span><br></pre></td></tr></table></figure><p>è‹¥è¯¥ç›®å½•æƒé™ä¸ºrw-æˆ–-w-å³æœ‰å†™å…¥æƒé™ï¼Œç”±äºç¼ºå°‘å¯æ‰§è¡Œï¼ˆxï¼‰æƒé™ï¼Œä¹Ÿæ— æ³•ç”¨mkdirç­‰å‘½ä»¤åˆ›å»ºæ–‡ä»¶æˆ–ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ mkdir <span class="built_in">test</span>/testdir</span><br><span class="line">mkdir: cannot create directory â€˜<span class="built_in">test</span>/testdirâ€™: Permission denied</span><br><span class="line">/tmp$ cp testfile ./<span class="built_in">test</span>/</span><br><span class="line">cp: cannot <span class="built_in">stat</span> â€˜./<span class="built_in">test</span>/testfileâ€™: Permission denied</span><br></pre></td></tr></table></figure><p>åŒæ ·å³ä½¿è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶å¯è¯»å¯æ‰§è¡Œï¼Œä¹Ÿæ— æ³•æ‰§è¡Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ ./<span class="built_in">test</span>/test-file2</span><br><span class="line">bash: ./<span class="built_in">test</span>/test-file2: Permission denied</span><br></pre></td></tr></table></figure><p>llå‘½ä»¤è™½ç„¶å¯ä»¥åˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶åŠç›®å½•ï¼Œä½†æ˜¯åŒæ ·å› ä¸ºå¯æ‰§è¡Œï¼ˆxï¼‰æƒé™æ— æ³•æŸ¥çœ‹å±æ€§</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ ll <span class="built_in">test</span></span><br><span class="line">ls: cannot access <span class="built_in">test</span>/..: Permission denied</span><br><span class="line">ls: cannot access <span class="built_in">test</span>/.: Permission denied</span><br><span class="line">ls: cannot access <span class="built_in">test</span>/test-file2: Permission denied</span><br><span class="line">ls: cannot access <span class="built_in">test</span>/test-dir2: Permission denied</span><br><span class="line">ls: cannot access <span class="built_in">test</span>/test-dir1: Permission denied</span><br><span class="line">ls: cannot access <span class="built_in">test</span>/test-file1: Permission denied</span><br><span class="line">total 0</span><br><span class="line">d????????? ? ? ? ?            ? ./</span><br><span class="line">d????????? ? ? ? ?            ? ../</span><br><span class="line">d????????? ? ? ? ?            ? test-dir1/</span><br><span class="line">d????????? ? ? ? ?            ? test-dir2/</span><br><span class="line">-????????? ? ? ? ?            ? test-file1</span><br><span class="line">-????????? ? ? ? ?            ? test-file2</span><br></pre></td></tr></table></figure><p>å¯¹å­ç›®å½•æ¥è¯´ï¼Œæ— æ³•åˆ—å‡ºæ–‡ä»¶åŠç›®å½•ï¼Œå³ä¾¿æœ‰å®Œæ•´æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ ll <span class="built_in">test</span>/test-dir1/</span><br><span class="line">ls: cannot access <span class="built_in">test</span>/test-dir1/: Permission denied</span><br></pre></td></tr></table></figure><h2 id="â€“xã€-wxã€rwxã€r-xï¼š"><a href="#â€“xã€-wxã€rwxã€r-xï¼š" class="headerlink" title="â€“xã€-wxã€rwxã€r-xï¼š"></a>â€“xã€-wxã€rwxã€r-xï¼š</h2><p>æœ‰å¯æ‰§è¡Œæƒé™<br>drwxr-xâ€“x  4 root root 4096 Jan  4 13:15 test/</p><p>ä½¿ç”¨cpå‘½ä»¤å¯ä»¥æ­£å¸¸åˆ‡æ¢è‡³è¯¥ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ <span class="built_in">cd</span> <span class="built_in">test</span>/</span><br><span class="line">/tmp/<span class="built_in">test</span>$ </span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æ— æ³•ä½¿ç”¨llåˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶åŠç›®å½•ï¼Œå› ä¸ºæ²¡æœ‰è¯»æƒé™ï¼ˆrï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp/<span class="built_in">test</span>$ ll</span><br><span class="line">ls: cannot open directory .: Permission denied</span><br></pre></td></tr></table></figure><p>å­ç›®å½•ä¸å—å½±å“ï¼Œåªè¦æœ‰ç›¸åº”æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/tmp/<span class="built_in">test</span>$ ll test-dir1</span><br><span class="line">total 12</span><br><span class="line">drwxr-xrwx 2 root root 4096 Jan  4 13:27 ./</span><br><span class="line">drwxr-x--x 4 root root 4096 Jan  4 13:15 ../</span><br><span class="line">-rw-r--r-- 1 root root    9 Jan  4 13:27 test-file3</span><br></pre></td></tr></table></figure><p>å¯ä½¿ç”¨catæŸ¥çœ‹ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œåªè¦æœ‰ç›¸åº”æ–‡ä»¶çš„è¯»æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/tmp/<span class="built_in">test</span>$ cat test-file2</span><br><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello!&quot;</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨cpæ‹·è´è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œåªè¦æœ‰ç›¸åº”æ–‡ä»¶çš„è¯»æƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/tmp/<span class="built_in">test</span>$ cp test-file2 ../</span><br><span class="line">/tmp/<span class="built_in">test</span>$ <span class="built_in">cd</span> ..</span><br><span class="line">/tmp$ ll | grep test-file</span><br><span class="line">-rw-r--r-x  1 ray  ray    26 Jan  4 13:43 test-file2*</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æ‰§è¡Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œåªè¦æœ‰ç›¸åº”æ–‡ä»¶çš„è¯»å’Œå¯æ‰§è¡Œæƒé™</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ ./<span class="built_in">test</span>/test-file2</span><br><span class="line">hello!</span><br></pre></td></tr></table></figure><p>å¦‚æœè¯¥ç›®å½•æƒé™ä¸º-wxæˆ–rwxå³æœ‰å†™å…¥æƒé™<br>æˆ‘ä»¬å°±å¯ä»¥ç”¨mkdirã€cpç­‰å‘½ä»¤åœ¨è¯¥ç›®å½•åˆ›å»ºå­ç›®å½•æˆ–æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/tmp$ mkdir <span class="built_in">test</span>/testdir</span><br><span class="line">/tmp$ cp testfile <span class="built_in">test</span>/</span><br><span class="line">/tmp$ su root</span><br><span class="line">Password: </span><br><span class="line">root@axisray:/tmp<span class="comment"># ll test/</span></span><br><span class="line">total 24</span><br><span class="line">drwxrwxr-x 2 ray  ray  4096 Jan  4 14:29 testdir/</span><br><span class="line">drwxr-xrwx 2 root root 4096 Jan  4 13:27 test-dir1/</span><br><span class="line">drwxr-xrw- 2 root root 4096 Jan  4 13:15 test-dir2/</span><br><span class="line">-rw-rw-r-x 1 ray  ray    26 Jan  4 14:29 testfile*</span><br><span class="line">-rw-r----- 1 root root   11 Jan  4 13:15 test-file1</span><br><span class="line">-rw-r--r-x 1 root root   26 Jan  4 13:15 test-file2*</span><br></pre></td></tr></table></figure><p>å¦‚æœè¯¥ç›®å½•æƒé™ä¸ºr-xæˆ–rwxå³æœ‰è¯»å–æƒé™<br>æˆ‘ä»¬å¯ä»¥ç”¨llåˆ—å‡ºå½“å‰ç›®å½•çš„å­ç›®å½•åŠæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@axisray:/tmp<span class="comment"># chmod o=rx test</span></span><br><span class="line">root@axisray:/tmp<span class="comment"># su ray</span></span><br><span class="line">/tmp$ ll <span class="built_in">test</span></span><br><span class="line">total 32</span><br><span class="line">drwxr-xr-x 5 root root 4096 Jan  4 14:29 ./</span><br><span class="line">drwxrwxrwt 4 root root 4096 Jan  4 14:42 ../</span><br><span class="line">drwxrwxr-x 2 ray  ray  4096 Jan  4 14:29 testdir/</span><br><span class="line">drwxr-xrwx 2 root root 4096 Jan  4 13:27 test-dir1/</span><br><span class="line">drwxr-xrw- 2 root root 4096 Jan  4 13:15 test-dir2/</span><br><span class="line">-rw-rw-r-x 1 ray  ray    26 Jan  4 14:29 testfile*</span><br><span class="line">-rw-r----- 1 root root   11 Jan  4 13:15 test-file1</span><br><span class="line">-rw-r--r-x 1 root root   26 Jan  4 13:15 test-file2*</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul><li>å¯¹äºæ–‡ä»¶æƒé™ï¼Œ<strong>å¯è¯»æƒé™ï¼ˆrï¼‰</strong>æ˜¯<strong>å¯æ‰§è¡Œï¼ˆxï¼‰</strong>çš„åŸºç¡€</li><li>å¯¹äºç›®å½•æƒé™ï¼Œå¯æ‰§è¡Œï¼ˆxï¼‰æƒé™æ˜¯å…³é”®ï¼Œæ²¡æœ‰å¯æ‰§è¡Œæƒé™æ„å‘³ç€æ‰€æœ‰å‘½ä»¤éƒ½ä¸èƒ½åœ¨è¯¥ç›®å½•åŠå­ç›®å½•ä¸‹æ‰§è¡Œï¼Œè¯¥ç›®å½•åŠå­ç›®å½•ä¸‹çš„æ–‡ä»¶ä¹Ÿä¸èƒ½è¢«æ‰§è¡Œã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¸¸ç”¨çš„å‘½ä»¤cdã€lsã€mkdirã€cpã€mvã€rmç­‰ç­‰åœ¨è¯¥ç›®å½•ä¸‹å…¨éƒ¨å¤±æ•ˆ</li></ul>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;æ–‡ä»¶æƒé™&quot;&gt;&lt;a href=&quot;#æ–‡ä»¶æƒé™&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ä»¶æƒé™&quot;&gt;&lt;/a&gt;æ–‡ä»¶æƒé™&lt;/h1&gt;&lt;p&gt;æƒé™åˆ†ä¸‰ç§ï¼Œè¯»ï¼ˆrï¼‰å†™ï¼ˆwï¼‰å¯æ‰§è¡Œï¼ˆxï¼‰ã€‚â€œrâ€“â€ã€â€œrw-â€ã€â€œrwxâ€è¿™ä¸‰ç§æƒé™ç»„åˆæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚â€œrâ€“â€åªè¯»ï¼Œâ€œrw-â€å¯è¯»å¯å†™ï¼Œâ€œrwxâ€å¯è¯»å¯å†™å¯æ‰§è¡Œï¼Œä¸‹é¢ä»‹ç»å‡ ç§æ¯”è¾ƒå¦ç±»æƒé™ç»„åˆã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="linux" scheme="http://blog.raycn.pub/categories/linux/"/>
    
    
    <category term="linux" scheme="http://blog.raycn.pub/tags/linux/"/>
    
    <category term="bash" scheme="http://blog.raycn.pub/tags/bash/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³TortoiseSVN/Gitè¦†ç›–å›¾æ ‡å¤±æ•ˆçš„é—®é¢˜</title>
    <link href="http://blog.raycn.pub/2014/12/09/tortoise-icon-problem/"/>
    <id>http://blog.raycn.pub/2014/12/09/tortoise-icon-problem/</id>
    <published>2014-12-09T12:38:23.000Z</published>
    <updated>2014-12-09T12:38:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å‘ç°TortoiseGitçš„è¦†ç›–å›¾æ ‡ä¸è§äº†ï¼Œä»ç‰ˆæœ¬åº“é‡Œcloneä¸‹æ¥çš„æºç æ²¡æœ‰äº†å·²åŒæ­¥ï¼Œå·²ä¿®æ”¹ä¹‹ç±»çš„å›¾æ ‡æç¤ºã€‚ä¸‹é¢ç»™å‡ºè§£å†³åŠæ³•ï¼šï¼ˆæ„Ÿè°¢<a href="http://blog.csdn.net/woyaowenzi/article/details/7538053">woyaowenzi</a>ï¼‰</p><span id="more"></span><p>Windowsæœ€å¤šå…è®¸15ä¸ªè¦†ç›–å›¾æ ‡ï¼Œç³»ç»Ÿå ç”¨äº†çº¦4ä¸ªï¼Œç”¨æˆ·å¯ç”¨çš„åªæœ‰11ä¸ªå·¦å³ã€‚<br>TortoiseSVNæˆ–è€…TortoiseGitæ ‡å‡†ä¼šå ç”¨7ä¸ªè¦†ç›–å›¾æ ‡ï¼Œåˆ†åˆ«ä¸ºï¼š<br><em>æ™®é€šå›¾æ ‡ã€å·²ä¿®æ”¹å›¾æ ‡ã€å†²çªæŒ‡ç¤ºå›¾æ ‡ã€å·²åˆ é™¤å›¾æ ‡ã€æ–°å¢æ–‡ä»¶å›¾æ ‡ã€å¿½ç•¥å›¾æ ‡ã€æœªç‰ˆæœ¬åŒ–å›¾æ ‡</em><br>è€Œæ¯ä¸ªç½‘ç›˜ç±»çš„å®¢æˆ·ç«¯åˆä¼šå ç”¨3ä¸ªå·¦å³ã€‚<br><img src="/img/tortoise-icon.gif" alt="tortoise-icon"><br>æ‰€æœ‰åº”ç”¨ç¨‹åºçš„è¦†ç›–å›¾æ ‡éƒ½éœ€è¦åœ¨æ³¨å†Œè¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\ShellIconOverlayIdentifiers</span><br></pre></td></tr></table></figure><p>ä¸‹é¢å¢åŠ ä¸€ä¸ªé¡¹ç›®ï¼Œå½“éœ€è¦æ˜¾ç¤ºè¦†ç›–å›¾æ ‡æ—¶ï¼ŒWindowsä¼šæŒ‰ç…§é¡¹ç›®åç§°çš„å­—æ¯é¡ºåˆ©ä¾æ¬¡æŸ¥è¯¢åœ¨è¿™äº›é¡¹ç›®é‡Œæ‰€æŒ‡ç¤ºçš„æ¥å£ï¼Œä»¥æ£€æµ‹æ˜¯å¦æœ‰è¦†ç›–å›¾æ ‡ï¼Œ<em>å½“æ£€æµ‹åˆ°11ä¸ªæœ‰æ•ˆçš„æ¥å£åï¼ŒWindowså°±ä¼šè‡ªåŠ¨åœæ­¢ç»§ç»­å‘ä¸‹æ£€æµ‹ï¼Œè¿™æ ·ï¼Œåæ¥çš„è¦†ç›–å›¾æ ‡å°±ä¸ä¼šæ˜¾ç¤ºäº†ã€‚</em></p><p>__è§£å†³æ–¹æ³•__ï¼šæŠŠå…¶ä»–ç½‘ç›˜ç±»çš„è¦†ç›–å›¾æ ‡æ³¨å†Œè¡¨é¡¹åˆ é™¤ï¼Œè®©TortoiseSVN/Gitçš„æ³¨å†Œè¡¨é¡¹æå‰</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘å‘ç°TortoiseGitçš„è¦†ç›–å›¾æ ‡ä¸è§äº†ï¼Œä»ç‰ˆæœ¬åº“é‡Œcloneä¸‹æ¥çš„æºç æ²¡æœ‰äº†å·²åŒæ­¥ï¼Œå·²ä¿®æ”¹ä¹‹ç±»çš„å›¾æ ‡æç¤ºã€‚ä¸‹é¢ç»™å‡ºè§£å†³åŠæ³•ï¼šï¼ˆæ„Ÿè°¢&lt;a href=&quot;http://blog.csdn.net/woyaowenzi/article/details/7538053&quot;&gt;woyaowenzi&lt;/a&gt;ï¼‰&lt;/p&gt;</summary>
    
    
    
    <category term="git" scheme="http://blog.raycn.pub/categories/git/"/>
    
    
    <category term="git" scheme="http://blog.raycn.pub/tags/git/"/>
    
    <category term="tortoise" scheme="http://blog.raycn.pub/tags/tortoise/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ubuntuä¸‹phpmyadminç¼ºå°‘mcryptæ‰©å±•çš„é”™è¯¯</title>
    <link href="http://blog.raycn.pub/2014/12/06/php-mod-mcrypt/"/>
    <id>http://blog.raycn.pub/2014/12/06/php-mod-mcrypt/</id>
    <published>2014-12-06T13:08:46.000Z</published>
    <updated>2014-12-06T13:08:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ubuntuç”¨apt-getå®‰è£…phpmyadminåï¼Œæ€»ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯<br><img src="/img/php-mcrypt.gif" alt="php-mod-mcrypt"><br>è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯ç”¨mcryptç»„ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php5enmod mcrypt</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨ubuntuç”¨apt-getå®‰è£…phpmyadminåï¼Œæ€»ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯&lt;br&gt;&lt;img src=&quot;/img/php-mcrypt.gif&quot; alt=&quot;php-mod-mcrypt&quot;&gt;&lt;br&gt;è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¯ç”¨mcryptç»„ä»¶&lt;/p&gt;
&lt;figure cla</summary>
      
    
    
    
    <category term="linux" scheme="http://blog.raycn.pub/categories/linux/"/>
    
    
    <category term="ubuntu" scheme="http://blog.raycn.pub/tags/ubuntu/"/>
    
    <category term="phpmyadmin" scheme="http://blog.raycn.pub/tags/phpmyadmin/"/>
    
  </entry>
  
  <entry>
    <title>ä»å…‰ç›˜æˆ–é•œåƒä¸­å®‰è£….NetFramework</title>
    <link href="http://blog.raycn.pub/2014/12/05/install-netfx3-from-sysimg/"/>
    <id>http://blog.raycn.pub/2014/12/05/install-netfx3-from-sysimg/</id>
    <published>2014-12-05T03:55:12.000Z</published>
    <updated>2014-12-05T03:55:12.000Z</updated>
    
    <content type="html"><![CDATA[<p>windows8é¢„è£…äº†.Net Framework4.0ï¼Œä½†æ˜¯4.0å¹¶ä¸ä¼šå‘ä¸‹å…¼å®¹ä½¿ç”¨æ›´æ—©.Netç‰ˆæœ¬ç¼–å†™çš„ç¨‹åºã€‚å½“æˆ‘ä»¬è¿è¡Œä¸€ä¸ªä½¿ç”¨æ›´æ—©ç‰ˆæœ¬ç¼–å†™çš„.Netç¨‹åºæ—¶ï¼ŒWindowsä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ä¸‹è½½å¹¶å®‰è£….Net Framework3.5ã€‚ä½†æ˜¯å½“é‡åˆ°æ²¡æœ‰ç½‘ç»œæˆ–è€…ç½‘é€Ÿæ¯”è¾ƒæ…¢çš„æ—¶å€™å°±æ¯”è¾ƒéš¾å—äº†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä»Windows8å…‰ç›˜æˆ–è€…é•œåƒå®‰è£….<br>å‡è®¾å…‰ç›˜æˆ–å…‰ç›˜é•œåƒçš„ç›˜ç¬¦ä¸ºXï¼Œåœ¨å‘½ä»¤æç¤ºç¬¦ä¸­è¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DISM /Online /Enable-Feature /FeatureName:NetFx3 /All /LimitAccess /Source:X:\sources\sxs</span><br></pre></td></tr></table></figure><p><img src="/img/NetFx3.gif" alt="NetFx3"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;windows8é¢„è£…äº†.Net Framework4.0ï¼Œä½†æ˜¯4.0å¹¶ä¸ä¼šå‘ä¸‹å…¼å®¹ä½¿ç”¨æ›´æ—©.Netç‰ˆæœ¬ç¼–å†™çš„ç¨‹åºã€‚å½“æˆ‘ä»¬è¿è¡Œä¸€ä¸ªä½¿ç”¨æ›´æ—©ç‰ˆæœ¬ç¼–å†™çš„.Netç¨‹åºæ—¶ï¼ŒWindowsä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ä¸‹è½½å¹¶å®‰è£….Net Framework3.5ã€‚ä½†æ˜¯å½“é‡åˆ°æ²¡æœ‰ç½‘ç»œæˆ–è€…ç½‘é€Ÿæ¯”è¾ƒæ…¢çš„æ—¶å€™å°±</summary>
      
    
    
    
    <category term="windows" scheme="http://blog.raycn.pub/categories/windows/"/>
    
    
    <category term="dotnet" scheme="http://blog.raycn.pub/tags/dotnet/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨openwrtä¸­åˆ©ç”¨ipsetå°†ç‰¹å®šæµé‡è½¬å‘åˆ°shadowsocks</title>
    <link href="http://blog.raycn.pub/2014/12/01/openwrt-ipset-redirect-shadowsocks/"/>
    <id>http://blog.raycn.pub/2014/12/01/openwrt-ipset-redirect-shadowsocks/</id>
    <published>2014-12-01T14:43:23.000Z</published>
    <updated>2014-12-01T14:43:23.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€<strong>å‰è¨€</strong></h1><p>è™½ç„¶<em>Chrome</em>é‡Œçš„<em>SwitchySharp</em>æ’ä»¶å¯ä»¥æ ¹æ®è§„åˆ™è‡ªåŠ¨è½¬å‘ç‰¹å®šæµé‡åˆ°<em>Shadowsocks</em>ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å±€é™æ€§è¿˜æ˜¯å¾ˆå¤§ã€‚[åŒ—è½å¸ˆé—¨][1]çš„åšæ–‡ä¸­æä¾›äº†ä¸€ç§åœ¨è·¯ç”±ä¸Šè‡ªåŠ¨è½¬å‘ç‰¹å®šæµé‡çš„æ–¹æ³•ï¼Œä½¿å¾—è½¬å‘è¿‡ç¨‹å¯¹äºå®¢æˆ·ç«¯æ˜¯é€æ˜çš„ã€‚æˆ‘å‚è€ƒä»–çš„æ–¹æ³•ï¼Œåšäº†ä¸€äº›æ”¹è¿›ã€‚</p><blockquote><ul><li>ä½¿ç”¨gfwlistæ‰©å¤§é€‚ç”¨ç½‘ç«™èŒƒå›´</li><li>ä½¿ç”¨ss-tunnelè§£å†³DNSæ±¡æŸ“</li></ul></blockquote><p> å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹</p><blockquote><ul><li>dnsmasqå°†æŒ‡å®šåˆ—è¡¨ä¸­çš„åŸŸåé€šè¿‡ss-tunnelå‘å¾€æœªè¢«æ±¡æŸ“çš„DNSè¿›è¡Œè§£æï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°ipsetä¸­</li><li>åœ¨iptableä¸­å»ºç«‹è§„åˆ™ï¼Œå°†ipsetä¸­çš„IPçš„TCPæµé‡é‡å®šå‘åˆ°ss-rediré€æ˜ä»£ç†</li></ul></blockquote><span id="more"></span><h1 id="äºŒã€é…ç½®Shadowsockså®¢æˆ·ç«¯"><a href="#äºŒã€é…ç½®Shadowsockså®¢æˆ·ç«¯" class="headerlink" title="äºŒã€é…ç½®Shadowsockså®¢æˆ·ç«¯"></a>äºŒã€<strong>é…ç½®Shadowsockså®¢æˆ·ç«¯</strong></h1><p>æˆ‘ä½¿ç”¨çš„æ˜¯shadowsocks-libevï¼ˆåŒ…å« ss-{redir,local,tunnel} ä¸‰ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼‰</p><blockquote><p><a href="http://sourceforge.net/projects/openwrt-dist/files/shadowsocks-libev/1.5.3-5cc562f/ar71xx/">shadowsocks-libev_1.5.3-1_ar71xx.ipk</a></p></blockquote><p>å…¶ä»–ç‰ˆæœ¬å¯ä»¥å»sourceforgeçš„<a href="http://sourceforge.net/projects/openwrt-dist/files/shadowsocks-libev/1.5.3-5cc562f/ar71xx/shadowsocks-libev-spec_1.5.3-1_ar71xx.ipk/download">openwrt-dist</a>ä¸‹è½½.<br>  [1]: <a href="http://hong.im/2014/07/08/use-ipset-with-shadowsocks-on-openwrt/">http://hong.im/2014/07/08/use-ipset-with-shadowsocks-on-openwrt/</a> â€œä½¿ç”¨ipsetè®©openwrtä¸Šçš„shadowsocksæ›´æ™ºèƒ½çš„é‡å®šå‘æµé‡-åŒ—è½å¸ˆé—¨â€<br>  ç”¨WinSCPä¸Šä¼ åˆ°è·¯ç”±å™¨ï¼Œæˆ–è€…ç”¨wgetå‘½ä»¤ç›´æ¥åœ¨è·¯ç”±ä¸Šä¸‹è½½ã€‚ç„¶åç”¨opkgå®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ opkg install shadowsocks-libev*.ipk </span><br></pre></td></tr></table></figure><p> å®‰è£…å®Œæˆåç¼–è¾‘shadowsocksçš„é…ç½®æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/shadowsocks.json</span><br></pre></td></tr></table></figure><p> è¯·æŒ‰å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;server&quot;:&quot;198.199.101.201&quot;,</span><br><span class="line">&quot;server_port&quot;:10086,</span><br><span class="line">&quot;local_port&quot;:1080,</span><br><span class="line">&quot;password&quot;:&quot;fuckgfw&quot;,</span><br><span class="line">&quot;method&quot;:&quot;aes-256-cfb&quot;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>ç„¶åè®©shadowsocksè‡ªåŠ¨å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ /etc/init.d/shadowsocks <span class="built_in">enable</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹shadowsocksçš„å¯åŠ¨é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/init.d/shadowsocks</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æˆå¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh /etc/rc.common</span></span><br><span class="line"></span><br><span class="line">START=95</span><br><span class="line"></span><br><span class="line">SERVICE_USE_PID=1</span><br><span class="line">SERVICE_WRITE_PID=1</span><br><span class="line">SERVICE_DAEMONIZE=1</span><br><span class="line"></span><br><span class="line">CONFIG=/etc/shadowsocks.json</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">start</span></span>() &#123;</span><br><span class="line"><span class="comment"># Client Mode</span></span><br><span class="line"><span class="comment">#service_start /usr/bin/ss-local -c $CONFIG</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Proxy Mode</span></span><br><span class="line">service_start /usr/bin/ss-redir -c <span class="variable">$CONFIG</span></span><br><span class="line">service_start /usr/bin/ss-tunnel -c <span class="variable">$CONFIG</span> -l 5353 -L 8.8.8.8:53 -u</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">stop</span></span>() &#123;</span><br><span class="line"><span class="comment"># Client Mode</span></span><br><span class="line"><span class="comment">#service_stop /usr/bin/ss-local</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Proxy Mode</span></span><br><span class="line">service_stop /usr/bin/ss-redir</span><br><span class="line">service_stop /usr/bin/ss-tunnel</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œshadowsocksçš„å®¢æˆ·ç«¯é…ç½®å®Œæˆ</p><h1 id="ä¸‰ã€é…ç½®dnsmasq"><a href="#ä¸‰ã€é…ç½®dnsmasq" class="headerlink" title="ä¸‰ã€é…ç½®dnsmasq"></a>ä¸‰ã€<strong>é…ç½®dnsmasq</strong></h1><p> dnsmasqå¯ä»¥å°†æŒ‡å®šåˆ—è¡¨ä¸­çš„åŸŸåé€šè¿‡ss-tunnelå‘å¾€æœªè¢«æ±¡æŸ“çš„DNSè¿›è¡Œè§£æï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°ipsetä¸­ã€‚ä½†æ˜¯OpenWrté»˜è®¤ç‰ˆæœ¬çš„dnsmasqæ²¡æœ‰ipsetåŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰å®‰è£…ipsetã€‚<br> ä¸è¿‡Openwrtæºä¸­æä¾›äº†å®Œæ•´ç‰ˆæœ¬çš„dnsmasqå³dnsmasq-fullã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¸è½½ç²¾ç®€ç‰ˆå¹¶å®‰è£…å®Œæ•´ç‰ˆæœ¬çš„dnsmasqå’Œipsetã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ opkg update</span><br><span class="line">$ opkg remove dnsmasq</span><br><span class="line">$ opkg install dnsmasq-full</span><br><span class="line">$ opkg install ipset</span><br></pre></td></tr></table></figure><p> å®‰è£…ipsetçš„æ—¶å€™å¯èƒ½ä¼šæŠ¥ç±»ä¼¼ä¸‹é¢çš„é”™è¯¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_bitmap_ip.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_bitmap_ipmac.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_bitmap_port.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_hash_ip.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_hash_ipport.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_hash_ipportip.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_hash_ipportnet.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_hash_net.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_hash_netiface.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_hash_netport.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/ip_set_list_set.ko</span><br><span class="line">kmod: failed to insert /lib/modules/3.10.44/xt_set.ko</span><br></pre></td></tr></table></figure><p>ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºipsetå®‰è£…åéœ€è¦é‡å¯æ‰èƒ½æ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬æš‚æ—¶å…ˆä¸é‡å¯ï¼Œç»§ç»­é…ç½®ã€‚<br>æ‰“å¼€dnsmasqçš„é…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim  /etc/dnsmasq.conf</span><br></pre></td></tr></table></figure><p>åœ¨æœ€åé¢åŠ å…¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conf-dir=/etc/dnsmasq.d</span><br></pre></td></tr></table></figure><p>åœ¨/etcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•dnsmasq.d</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /etc/dnsmasq.d</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œæˆ‘ä»¬è¦å­˜æ”¾è§„åˆ™æ–‡ä»¶ï¼Œå°†ç‰¹å®šåŸŸåå‘å¾€ss-tunnelã€‚æˆ‘é‡‡ç”¨çš„æ˜¯gfwlistæä¾›çš„è§„åˆ™ï¼Œä½†æ˜¯éœ€è¦è½¬æ¢æˆdnsmasqè®¤å¯çš„é…ç½®æ–‡ä»¶ã€‚æˆ‘æä¾›äº†ä¸€ä»½è½¬æ¢å¥½çš„é…ç½®æ–‡ä»¶ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥ä¸‹è½½åˆ°dnsmasq.dç›®å½•ä¸‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/dnsmasq.d</span><br><span class="line">$ wget http://axisray.me/share/gfwdomains.conf</span><br></pre></td></tr></table></figure><p>å…³äºè¿™ä»½é…ç½®æ–‡ä»¶éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œdnsmasqä¼šæŠŠåˆ—è¡¨ä¸­çš„åŸŸåå‘å¾€__127.0.0.1:5353__è§£æï¼Œå¹¶å°†ç»“æœä¿å­˜åœ¨åä¸º__gfwipset__çš„ipsetä¸­ã€‚å¦‚æœä½ é…ç½®çš„ss-tunelå’Œipsetå’Œæˆ‘ä¸ä¸€æ ·çš„è¯ï¼Œå°±éœ€è¦æ‰‹åŠ¨å¤„ç†è¯¥é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…æ ¹æ®ä¸‹é¢çš„è¯´æ˜è‡ªè¡Œç”Ÿæˆåˆé€‚çš„é…ç½®æ–‡ä»¶ã€‚</p><h1 id="å››ã€ipseté…ç½®"><a href="#å››ã€ipseté…ç½®" class="headerlink" title="å››ã€ipseté…ç½®"></a>å››ã€<strong>ipseté…ç½®</strong></h1><p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªipsetï¼Œå¹¶åœ¨iptableä¸­æ·»åŠ ä¸€æ¡è§„åˆ™ï¼Œé‡å®šå‘ipsetä¸­ipçš„æµé‡åˆ°shadowsocks(ss-rediråœ¨1080ç«¯å£ç›‘å¬)ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ipset -N gfwipset iphash</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -m <span class="built_in">set</span> --match-set gfwipset dst -j REDIRECT --to-port 1080</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤æ¡å‘½ä»¤é‡å¯åå°±ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ åˆ°/etc/rc.localä¸­å»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/rc.local</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æˆä¸‹é¢æ‰€ç¤º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Put your custom commands here that should be executed once</span></span><br><span class="line"><span class="comment"># the system init finished. By default this file does nothing.</span></span><br><span class="line"></span><br><span class="line">ipset -N gfwipset iphash</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp -m <span class="built_in">set</span> --match-set gfwipset dst -j REDIRECT --to-port 1080</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæ‰€æœ‰é…ç½®å‡å·²å®Œæˆï¼Œé‡å¯è·¯ç”±å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ reboot</span><br></pre></td></tr></table></figure><h1 id="äº”ã€å…³äºgfwlistè½¬æ¢æˆdnsmasqçš„é…ç½®æ–‡ä»¶"><a href="#äº”ã€å…³äºgfwlistè½¬æ¢æˆdnsmasqçš„é…ç½®æ–‡ä»¶" class="headerlink" title="äº”ã€å…³äºgfwlistè½¬æ¢æˆdnsmasqçš„é…ç½®æ–‡ä»¶"></a>äº”ã€<strong>å…³äºgfwlistè½¬æ¢æˆdnsmasqçš„é…ç½®æ–‡ä»¶</strong></h1><p>è¿™æ˜¯æˆ‘ä»ç½‘ä¸Šæ‰¾åˆ°çš„ä¸€ä¸ªPythonçš„è„šæœ¬</p><figure class="highlight python"><figcaption><span>gfwlist.py</span><a href="http://axisray.me/share/gfwlist.py">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Modified from http://autoddvpn.googlecode.com/svn/trunk/grace.d/gfwListgen.py</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> expanduser</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"></span><br><span class="line">gfwlist = <span class="string">&#x27;http://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt&#x27;</span></span><br><span class="line"><span class="comment"># some sites can be visited via https or is already in known list</span></span><br><span class="line">oklist = [<span class="string">&#x27;flickr.com&#x27;</span>,<span class="string">&#x27;amazon.com&#x27;</span>,<span class="string">&#x27;twimg.com&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;fetching gfwList ...&quot;</span>)</span><br><span class="line">d = urllib.urlopen(gfwlist).read()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;gfwList fetched&quot;</span>)</span><br><span class="line">data = base64.b64decode(d)</span><br><span class="line">lines = string.split(data, <span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line">gfwlistfile = <span class="built_in">open</span>(<span class="string">&#x27;./gfwlist.txt&#x27;</span>, <span class="string">&#x27;wa&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> l <span class="keyword">in</span> lines:</span><br><span class="line">gfwlistfile.write(l+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">gfwlistfile.close()</span><br><span class="line"></span><br><span class="line">newlist = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> l <span class="keyword">in</span> lines:</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(l) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"><span class="keyword">if</span> l[<span class="number">0</span>] == <span class="string">&quot;!&quot;</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"><span class="keyword">if</span> l[<span class="number">0</span>] == <span class="string">&quot;@&quot;</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"><span class="keyword">if</span> l[<span class="number">0</span>] == <span class="string">&quot;[&quot;</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">l = string.replace(l, <span class="string">&quot;||&quot;</span>,<span class="string">&quot;&quot;</span>).lstrip(<span class="string">&quot;.&quot;</span>)</span><br><span class="line">l = string.replace(l, <span class="string">&quot;|https://&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">l = string.replace(l, <span class="string">&quot;|http://&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="comment"># strip everything from &quot;/&quot; to the end</span></span><br><span class="line"><span class="keyword">if</span> l.find(<span class="string">&quot;/&quot;</span>) != -<span class="number">1</span>:</span><br><span class="line">        l = l[<span class="number">0</span>:l.find(<span class="string">&quot;/&quot;</span>)]</span><br><span class="line"><span class="keyword">if</span> l.find(<span class="string">&quot;%2F&quot;</span>) != -<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"><span class="keyword">if</span> l.find(<span class="string">&quot;*&quot;</span>) != -<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"><span class="keyword">if</span> l.find(<span class="string">&quot;.&quot;</span>) == -<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"><span class="keyword">if</span> l <span class="keyword">in</span> oklist:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">newlist.append(l)</span><br><span class="line"></span><br><span class="line">newlist = <span class="built_in">list</span>(<span class="built_in">set</span>(newlist))</span><br><span class="line">newlist.sort()</span><br><span class="line"></span><br><span class="line"><span class="comment"># generate dnsmasq configuration</span></span><br><span class="line">gfwdn = <span class="built_in">open</span>(<span class="string">&#x27;./gfwdomains.conf&#x27;</span>, <span class="string">&#x27;wa&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> l <span class="keyword">in</span> newlist:</span><br><span class="line">        gfwdn.write(<span class="string">&#x27;server=/&#x27;</span>+l+<span class="string">&#x27;/127.0.0.1#5353\n&#x27;</span>)<span class="comment">#ss-tunel</span></span><br><span class="line">        gfwdn.write(<span class="string">&#x27;ipset=/&#x27;</span>+l+<span class="string">&#x27;/gfwipset\n&#x27;</span>)<span class="comment">#ipset</span></span><br><span class="line"></span><br><span class="line">gfwdn.close()</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;ä¸€ã€å‰è¨€&quot;&gt;&lt;a href=&quot;#ä¸€ã€å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€å‰è¨€&quot;&gt;&lt;/a&gt;ä¸€ã€&lt;strong&gt;å‰è¨€&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;è™½ç„¶&lt;em&gt;Chrome&lt;/em&gt;é‡Œçš„&lt;em&gt;SwitchySharp&lt;/em&gt;æ’ä»¶å¯ä»¥æ ¹æ®è§„åˆ™è‡ªåŠ¨è½¬å‘ç‰¹å®šæµé‡åˆ°&lt;em&gt;Shadowsocks&lt;/em&gt;ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å±€é™æ€§è¿˜æ˜¯å¾ˆå¤§ã€‚[åŒ—è½å¸ˆé—¨][1]çš„åšæ–‡ä¸­æä¾›äº†ä¸€ç§åœ¨è·¯ç”±ä¸Šè‡ªåŠ¨è½¬å‘ç‰¹å®šæµé‡çš„æ–¹æ³•ï¼Œä½¿å¾—è½¬å‘è¿‡ç¨‹å¯¹äºå®¢æˆ·ç«¯æ˜¯é€æ˜çš„ã€‚æˆ‘å‚è€ƒä»–çš„æ–¹æ³•ï¼Œåšäº†ä¸€äº›æ”¹è¿›ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨gfwlistæ‰©å¤§é€‚ç”¨ç½‘ç«™èŒƒå›´&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ss-tunnelè§£å†³DNSæ±¡æŸ“&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt; å¤§è‡´è¿‡ç¨‹å¦‚ä¸‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;dnsmasqå°†æŒ‡å®šåˆ—è¡¨ä¸­çš„åŸŸåé€šè¿‡ss-tunnelå‘å¾€æœªè¢«æ±¡æŸ“çš„DNSè¿›è¡Œè§£æï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°ipsetä¸­&lt;/li&gt;
&lt;li&gt;åœ¨iptableä¸­å»ºç«‹è§„åˆ™ï¼Œå°†ipsetä¸­çš„IPçš„TCPæµé‡é‡å®šå‘åˆ°ss-rediré€æ˜ä»£ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="openwrt" scheme="http://blog.raycn.pub/categories/openwrt/"/>
    
    
    <category term="openwrt" scheme="http://blog.raycn.pub/tags/openwrt/"/>
    
    <category term="shadowsocks" scheme="http://blog.raycn.pub/tags/shadowsocks/"/>
    
  </entry>
  
</feed>
